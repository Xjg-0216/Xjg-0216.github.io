{"config":{"lang":["zh","en","ja"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"README","text":"<p>\u6b22\u8fce\u4f60\u6765\u5230\u6211\u7684\u7f51\u7ad9\uff0c \u8be5\u7f51\u7ad9\u662f\u9759\u6001\u7f51\u7ad9\uff0c\u4e3b\u8981\u5185\u5bb9\u662f\u65e5\u5e38\u5de5\u4f5c\u5b66\u4e60\u4e2d\u7684\u4e00\u4e9b\u6280\u672f\u7b14\u8bb0\u548c\u535a\u5ba2\u6587\u7ae0\uff0c\u4f7f\u7528<code>Markdown</code>\u683c\u5f0f\u7f16\u5199\uff0c \u901a\u8fc7<code>Mkdocs</code>\u6784\u5efa\u9879\u76ee\u6587\u6863 \uff08mkdocs.org\uff09\uff0c\u6700\u7ec8\u901a\u8fc7<code>Github Action</code>\u90e8\u7f72\u5728<code>Github Pages</code>\u4e0a</p> <p>\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u4e86mkdocs\u7684\u57fa\u672c\u547d\u4ee4\uff0c \u9879\u76ee\u7684\u7ec4\u7ec7\u7ed3\u6784\u4ee5\u53camaterial\u4e3b\u9898\u652f\u6301\u7684\u8bed\u6cd5</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"Text Only<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"#material-theme","title":"material-theme","text":"<p>\u5728\u8be5\u4e3b\u9898\u4e2d\uff0c\u4ee5\u4e0b\u5185\u5bb9\u53ef\u505a\u53c2\u8003 - Note Markdown<pre><code>!!! note\n    This is a note.\n</code></pre> \u4e3e\u4f8b\uff0c \u4ee5\u4e0b\u547d\u4ee4\u540c\u7406</p> <p>Note</p> <ul> <li> <p>Tip Markdown<pre><code>!!! tip\n    This is a tip.\n</code></pre></p> </li> <li> <p>Warning Markdown<pre><code>!!! warning\n    This is a warning.\n</code></pre></p> </li> <li> <p>Danger Markdown<pre><code>!!! danger\n    This is a danger.\n</code></pre></p> </li> <li> <p>Success Markdown<pre><code>!!! success\n    This is a success.\n</code></pre></p> </li> <li>Info Markdown<pre><code>!!! info\n    This is an info.\n</code></pre></li> <li>Quote Markdown<pre><code>!!! quote\n    This is a quote.\n</code></pre></li> <li>Question Markdown<pre><code>??? question \"What is the meaning of life, the universe, and everything?\"\n    42.\n</code></pre></li> </ul>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/","title":"\u65e0\u4eba\u673a\u5b9a\u4f4d\u6570\u636e\u96c6\u5236\u4f5c","text":"<p>\u4e3b\u8981\u6d89\u53ca\u4ee5\u4e0b\u5185\u5bb9\uff1a * \u901a\u8fc7ODM\u5c06\u62cd\u6444\u7684\u56fe\u50cf\u8f6c\u6362\u6210\u6b63\u5c04\u5730\u56fe * \u901a\u8fc7QGIS\u5c06\u6b63\u5c04\u5730\u56fe\u4e0e\u8c37\u6b4c\u5730\u56fe\u5bf9\u9f50\u5e76\u88c1\u526a</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#odm","title":"ODM","text":"<p>OpenDroneMap (ODM) \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u8f6f\u4ef6\u9879\u76ee\uff0c\u7528\u4e8e\u5904\u7406\u4ece\u65e0\u4eba\u673a\u83b7\u53d6\u7684\u56fe\u50cf\u6570\u636e\uff0c\u5e76\u751f\u6210\u9ad8\u8d28\u91cf\u7684\u5730\u7406\u7a7a\u95f4\u4fe1\u606f\u4ea7\u54c1\u3002\u5b83\u53ef\u4ee5\u88ab\u7528\u4e8e\u591a\u79cd\u5e94\u7528\uff0c\u5305\u62ec\u519c\u4e1a\u3001\u6d4b\u91cf\u3001\u73af\u5883\u76d1\u6d4b\u3001\u8003\u53e4\u5b66\u7b49\u3002\u4ee5\u4e0b\u662f\u5bf9 OpenDroneMap \u7684\u8be6\u7ec6\u4ecb\u7ecd\uff1a * \u56fe\u50cf\u62fc\u63a5\uff08Orthophoto Generation\uff09\uff1a         ODM \u80fd\u591f\u5c06\u65e0\u4eba\u673a\u62cd\u6444\u7684\u91cd\u53e0\u56fe\u50cf\u62fc\u63a5\u6210\u9ad8\u5206\u8fa8\u7387\u7684\u6b63\u5c04\u5f71\u50cf\uff08orthophoto\uff09\uff0c\u8fd9\u662f\u4e00\u79cd\u7ecf\u8fc7\u51e0\u4f55\u6821\u6b63\u7684\u56fe\u50cf\uff0c\u5177\u6709\u7edf\u4e00\u7684\u5c3a\u5ea6\u548c\u771f\u5b9e\u7684\u5730\u7406\u4f4d\u7f6e\u3002</p> <ul> <li> <p>\u4e09\u7ef4\u6a21\u578b\u91cd\u5efa\uff083D Reconstruction\uff09\uff1a         \u8be5\u8f6f\u4ef6\u80fd\u591f\u5c06\u4e8c\u7ef4\u56fe\u50cf\u8f6c\u6362\u4e3a\u4e09\u7ef4\u6a21\u578b\uff0c\u5305\u62ec\u70b9\u4e91\u3001\u7f51\u683c\u548c\u7eb9\u7406\u6a21\u578b\u3002\u8fd9\u5bf9\u4e8e\u5730\u5f62\u5206\u6790\u3001\u5efa\u7b51\u7269\u6d4b\u7ed8\u7b49\u5e94\u7528\u975e\u5e38\u6709\u7528\u3002</p> </li> <li> <p>\u6570\u5b57\u8868\u9762\u6a21\u578b\uff08DSM\uff09\u548c\u6570\u5b57\u9ad8\u7a0b\u6a21\u578b\uff08DEM\uff09\u751f\u6210\uff1a         ODM \u53ef\u4ee5\u751f\u6210 DSM \u548c DEM\uff0c\u5206\u522b\u8868\u793a\u5730\u8868\u7269\u4f53\u548c\u5730\u5f62\u7684\u9ad8\u7a0b\u6570\u636e\u3002</p> </li> <li> <p>\u5730\u7406\u4fe1\u606f\u7cfb\u7edf\uff08GIS\uff09\u96c6\u6210\uff1a         \u751f\u6210\u7684\u6570\u636e\u53ef\u4ee5\u8f7b\u677e\u96c6\u6210\u5230\u5404\u79cd GIS \u8f6f\u4ef6\u4e2d\uff0c\u4ee5\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u5206\u6790\u548c\u5e94\u7528\u3002</p> </li> <li> <p>\u591a\u5149\u8c31\u548c\u70ed\u6210\u50cf\u6570\u636e\u5904\u7406\uff1a         \u9664\u4e86\u53ef\u89c1\u5149\u56fe\u50cf\uff0cODM \u8fd8\u652f\u6301\u591a\u5149\u8c31\u548c\u70ed\u6210\u50cf\u6570\u636e\u7684\u5904\u7406\uff0c\u9002\u7528\u4e8e\u519c\u4e1a\u548c\u73af\u5883\u76d1\u6d4b\u7b49\u9886\u57df\u3002</p> </li> </ul> <p>\u6b64\u5916\uff0c ODM\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u53ef\u4ee5\u8fd0\u884c\u5728\u591a\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5305\u62ec Linux\u3001Windows \u548c macOS\uff0c\u65b9\u4fbf\u4e0d\u540c\u7528\u6237\u7684\u4f7f\u7528\u9700\u6c42\uff0c\u63d0\u4f9b\u4e86\u81ea\u52a8\u5316\u7684\u56fe\u50cf\u5904\u7406\u5de5\u4f5c\u6d41\u7a0b\uff0c\u7528\u6237\u53ea\u9700\u63d0\u4f9b\u539f\u59cb\u56fe\u50cf\u6570\u636e\uff0c\u8f6f\u4ef6\u5c06\u81ea\u52a8\u5b8c\u6210\u4ece\u56fe\u50cf\u62fc\u63a5\u5230\u4e09\u7ef4\u5efa\u6a21\u7684\u6240\u6709\u6b65\u9aa4\u3002</p> <p>ODM\u9879\u76eegithub\u5730\u5740\uff1ahttps://github.com/OpenDroneMap/ODM ODM\u9879\u76ee\u6587\u6863\uff1ahttps://docs.opendronemap.org/</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_2","title":"\u5feb\u901f\u5f00\u59cb","text":"<p>\u4f7f\u7528docker\u8fd0\u884cODM, \u9996\u5148\u62c9\u53d6\u955c\u50cf ~~<code>sudo docker pull opendronemap/opendronemap</code> , \u6b64\u955c\u50cf\u5df2\u5f03\u7528~~</p> <p>\u62c9\u53d6\u955c\u50cf Bash<pre><code>sudo docker pull opendronemap/odm\n</code></pre></p> <p>Note</p> <p>Bash<pre><code>xujg@xujg-ps:~$ sudo docker images\nREPOSITORY                  TAG       IMAGE ID       CREATED        SIZE\nopendronemap/odm            latest    e3d462eb2c32   26 hours ago   1.61GB\nhello-world                 latest    feb5d9fea6a5   2 years ago    13.3kB\nopendronemap/opendronemap   latest    8c89143494c7   5 years ago    3.04GB\n</code></pre> \u793a\u4f8b\u6570\u636e\u96c6\u5728\uff1a  https://github.com/OpenDroneMap/odm_data </p> <p>\u4f8b\u5982pull aukerman\u6570\u636e\u96c6 \u5728\u4ed3\u5e93\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a Bash<pre><code>sudo docker run -it --rm \\\n    -v \"$(pwd)/images:/code/images\" \\\n    -v \"$(pwd)/odm_orthophoto:/code/odm_orthophoto\" \\\n    -v \"$(pwd)/odm_texturing:/code/odm_texturing\" \\\n    opendronemap/opendronemap\n</code></pre></p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_3","title":"\u8f93\u5165\u6570\u636e","text":"<p>\u65e0\u4eba\u673a\u62cd\u6444\u7684\u91cd\u53e0\u56fe\u50cf\u3002\u8fd9\u4e9b\u56fe\u50cf\u53ef\u4ee5\u662f\u666e\u901a\u7684\u53ef\u89c1\u5149\u56fe\u50cf\u3001\u591a\u5149\u8c31\u56fe\u50cf\u6216\u70ed\u6210\u50cf\u56fe\u50cf\u3002\u56fe\u50cf\u5e94\u5177\u6709\u8db3\u591f\u7684\u91cd\u53e0\u5ea6\uff0c\u901a\u5e38\u5efa\u8bae 60-80% \u7684\u524d\u5411\u91cd\u53e0\uff08\u6cbf\u98de\u884c\u65b9\u5411\uff09\u548c\u4fa7\u5411\u91cd\u53e0\uff08\u5782\u76f4\u4e8e\u98de\u884c\u65b9\u5411\uff09\u3002</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_4","title":"\u8f93\u51fa\u6570\u636e","text":"<p>\u6b63\u5c04\u5f71\u50cf (Orthophoto)\uff1a</p> Text Only<pre><code>\u9ad8\u5206\u8fa8\u7387\u3001\u5730\u7406\u6821\u6b63\u540e\u7684\u6b63\u5c04\u5f71\u50cf\uff0c\u901a\u5e38\u4ee5 GeoTIFF \u683c\u5f0f\u5b58\u50a8\u3002\n</code></pre> <p>\u4e09\u7ef4\u6a21\u578b (3D Model)\uff1a</p> Text Only<pre><code>\u5305\u62ec\u70b9\u4e91\uff08Point Cloud\uff09\u3001\u7f51\u683c\u6a21\u578b\uff08Mesh\uff09\u548c\u7eb9\u7406\u6a21\u578b\uff08Textured Model\uff09\uff0c\u901a\u5e38\u4ee5 .obj \u6216 .ply \u683c\u5f0f\u5b58\u50a8\u3002\n</code></pre> <p>\u6570\u5b57\u8868\u9762\u6a21\u578b (DSM) \u548c \u6570\u5b57\u9ad8\u7a0b\u6a21\u578b (DEM)\uff1a</p> Text Only<pre><code>\u8868\u793a\u5730\u8868\u548c\u5730\u5f62\u7684\u9ad8\u7a0b\u6570\u636e\uff0c\u901a\u5e38\u4ee5 GeoTIFF \u683c\u5f0f\u5b58\u50a8\u3002\n</code></pre> <p>!!! danger    \u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u5982\u679c\u8f93\u5165\u56fe\u50cf\u6570\u636e\u6ca1\u6709EXIF\u4fe1\u606f\uff0c \u5219\u9700\u8981\u52a0\u5730\u7406\u4fe1\u606f\uff0c \u5426\u5219\u8868\u9762\u7eb9\u7406\u6620\u5c04\uff0c\u6570\u5b57\u9ad8\u7a0b\u6a21\u578b\uff0c\u6b63\u5c04\u56fe\u50cf\u90fd\u6ca1\u529e\u6cd5\u5f97\u5230</p> <p>==\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\u52a0\u5165<code>geo.txt</code>\uff0c \u6b64\u65f6ODM\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5230\u5b83\uff0c\u5982\u679c\u5b83\u6709\u5176\u4ed6\u540d\u79f0\uff0c\u5219\u9700\u8981\u6307\u5b9a==</p> <p>\u547d\u4ee4\u793a\u4f8b\uff1a Bash<pre><code>sudo docker run -it --rm     \\\n-v \"/home/xujg/code/data_odm_50:/datasets\"      \\\nopendronemap/odm     /datasets\n</code></pre></p> <p>\u8f93\u51fa\uff1a Text Only<pre><code>\u8be5\u8fc7\u7a0b\u5b8c\u6210\u540e\uff0c\u7ed3\u679c\u5c06\u6309\u5982\u4e0b\u65b9\u5f0f\u7ec4\u7ec7\uff1a\n\n|-- images/\n    |-- img-1234.jpg\n    |-- ...\n|-- opensfm/\n    |-- see mapillary/opensfm repository for more info\n|-- odm_meshing/\n    |-- odm_mesh.ply                    # A 3D mesh\n|-- odm_texturing/\n    |-- odm_textured_model.obj          # Textured mesh\n    |-- odm_textured_model_geo.obj      # Georeferenced textured mesh\n|-- odm_georeferencing/\n    |-- odm_georeferenced_model.laz     # LAZ format point cloud\n|-- odm_orthophoto/\n    |-- odm_orthophoto.tif              # Orthophoto GeoTiff\n</code></pre></p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#qgis","title":"\u901a\u8fc7QGIS\u5c06\u6b63\u5c04\u5730\u56fe\u4e0e\u8c37\u6b4c\u5730\u56fe\u5bf9\u9f50\u5e76\u88c1\u526a","text":"<p>\u8981\u5c06\u751f\u6210\u7684\u6b63\u5c04\u5f71\u50cf\u4e0e\u8c37\u6b4c\u5730\u56fe\u5bf9\u9f50\u5e76\u88c1\u526a\u6210\u5c0f\u5757\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_5","title":"\u5c06\u6b63\u5c04\u5f71\u50cf\u4e0e\u8c37\u6b4c\u5730\u56fe\u5bf9\u9f50","text":"<p>\u4f7f\u7528QGIS\u7b49GIS\u8f6f\u4ef6\uff0c\u5c06\u6b63\u5c04\u5f71\u50cf\u4e0e\u8c37\u6b4c\u5730\u56fe\u5bf9\u9f50\u3002\u4ee5\u4e0b\u662f\u8be6\u7ec6\u6b65\u9aa4\uff1a</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#1qgis","title":"1.\u5b89\u88c5QGIS","text":"<p>\u4e0b\u8f7d\u94fe\u63a5https://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu \u4f7f\u7528\u6559\u7a0b: https://www.osgeo.cn/qgisdoc/docs/user_manual/index.html</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_6","title":"\u5bfc\u5165\u6b63\u5c04\u5f71\u50cf","text":"<p>\u6253\u5f00QGIS Text Only<pre><code>\u70b9\u51fb\u201c\u56fe\u5c42\u201d-&gt;\u201c\u6dfb\u52a0\u56fe\u5c42\u201d-&gt;\u201c\u6dfb\u52a0\u6805\u683c\u56fe\u5c42\u201d\u3002\n\u9009\u62e9\u60a8\u7684\u6b63\u5c04\u5f71\u50cf\u6587\u4ef6\uff08\u5982 odm_orthophoto.tif\uff09\u5e76\u70b9\u51fb\u201c\u6253\u5f00\u201d\u3002\n</code></pre></p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_7","title":"\u6dfb\u52a0\u8c37\u6b4c\u5730\u56fe\u5e95\u56fe","text":"Text Only<pre><code>\u5728QGIS\u4e2d\uff0c\u70b9\u51fb\u201c\u63d2\u4ef6\u201d-&gt;\u201c\u7ba1\u7406\u548c\u5b89\u88c5\u63d2\u4ef6\u201d\u3002\n\u641c\u7d22\u5e76\u5b89\u88c5\u201cQuickMapServices\u201d\u63d2\u4ef6\u3002\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u70b9\u51fb\u201cWeb\u201d-&gt;\u201cQuickMapServices\u201d-&gt;\u201cOSM\u201d-&gt;\u201cGoogle\u201d-&gt;\u201cGoogle Satellite\u201d\u3002\n</code></pre> <p>\u5982\u679cOSM\u4e2d\u6ca1\u6709Google\uff0c \u53ef\u4ee5\u70b9\u51fbOSM\u4e2d\u7684setting-&gt;More services\u8fdb\u884c\u4e0b\u8f7d</p>"},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_8","title":"\u53ef\u4ee5\u5207\u6362\u6210\u4e2d\u6587\uff0c\u5e76\u8bbe\u7f6e\u4ee3\u7406\u670d\u52a1\u5668","text":""},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#_9","title":"\u5bf9\u9f50\u6b63\u5c04\u5f71\u50cf","text":""},{"location":"IMAGE_PROCESS/02-OpenDroneMap/#geo-tiff","title":"\u91cd\u6295\u5f71Geo-TIFF\u6587\u4ef6","text":"Text Only<pre><code>\u53f3\u952e\u8be5\u6587\u4ef6-&gt; \u6253\u5f00\u5c5e\u6027 -&gt; \u4fe1\u606f -&gt; \u67e5\u770b\u5750\u6807\u53c2\u8003\u7cfbCRS \n\u6805\u683c-&gt; \u6295\u5f71 -&gt; \u53d8\u5f62\uff08\u91cd\u6295\u5f71\uff1a\n\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\uff0c\u8bbe\u7f6e\u4ee5\u4e0b\u53c2\u6570\uff1a\n    Input Layer\uff08\u8f93\u5165\u56fe\u5c42\uff09\uff1a\u9009\u62e9\u4f60\u7684\u6805\u683c\u56fe\u5c42\u3002\n    Source CRS\uff08\u6e90CRS\uff09\uff1a\u9009\u62e9\u5f53\u524d\u6805\u683c\u6570\u636e\u7684CRS\u3002\n    Target CRS\uff08\u76ee\u6807CRS\uff09\uff1a\u9009\u62e9EPSG:3857\u3002\n    Resampling method\uff08\u91cd\u91c7\u6837\u65b9\u6cd5\uff09\uff1a\u9009\u62e9\u9002\u5408\u4f60\u7684\u6570\u636e\u7684\u91cd\u91c7\u6837\u65b9\u6cd5\uff08\u4f8b\u5982\uff0cBilinear \u6216 Cubic\uff09\u3002\n    Output file\uff08\u8f93\u51fa\u6587\u4ef6\uff09\uff1a\u9009\u62e9\u4fdd\u5b58\u91cd\u6295\u5f71\u6805\u683c\u7684\u8def\u5f84\u548c\u6587\u4ef6\u540d\n</code></pre> <ol> <li>\u88c1\u526a\u6210\u5c0f\u5757 \u5728QGIS\u4e2d\u88c1\u526a \u6253\u5f00\u914d\u51c6\u540e\u7684\u6b63\u5c04\u5f71\u50cf\u3002 \u4f7f\u7528\u201c\u88c1\u526a\uff08Clip\uff09\u201d\u5de5\u5177\u5c06\u5f71\u50cf\u88c1\u526a\u6210\u6240\u9700\u7684\u5c0f\u5757\u3002 \u5bfc\u51fa\u88c1\u526a\u540e\u7684\u5f71\u50cf\u3002 \u6279\u91cf\u88c1\u526a \u5982\u679c\u9700\u8981\u6279\u91cf\u88c1\u526a\uff0c\u53ef\u4ee5\u4f7f\u7528Python\u811a\u672c\u6216GDAL\u5de5\u5177\u8fdb\u884c\u81ea\u52a8\u5316\u88c1\u526a\u3002</li> </ol> <p>\u4f7f\u7528Python\u811a\u672c\u88c1\u526a \u5b89\u88c5GDAL\u5e93</p> Python<pre><code>from osgeo import gdal\nimport os\n\ndef crop_image(input_path, output_dir, tile_width, tile_height):\n    dataset = gdal.Open(input_path)\n    band = dataset.GetRasterBand(1)\n    xsize = band.XSize\n    ysize = band.YSize\n    geotransform = dataset.GetGeoTransform()\n    projection = dataset.GetProjection()\n\n    tile_num = 0\n    for i in range(0, ysize, tile_height):\n        for j in range(0, xsize, tile_width):\n            tile_num += 1\n            output_path = os.path.join(output_dir, f'tile_{tile_num}.tif')\n            gdal.Translate(output_path, dataset, srcWin=[j, i, tile_width, tile_height],\n                           format='GTiff', outputSRS=projection, outputBounds=geotransform)\n\ninput_path = 'path_to_your_orthophoto.tif'\noutput_dir = 'path_to_output_tiles'\ntile_width = 256  # \u8bbe\u7f6e\u6bcf\u5757\u7684\u5bbd\u5ea6\ntile_height = 256  # \u8bbe\u7f6e\u6bcf\u5757\u7684\u9ad8\u5ea6\n\ncrop_image(input_path, output_dir, tile_width, tile_height)\n</code></pre> <ol> <li>\u68c0\u67e5\u88c1\u526a\u7ed3\u679c \u4f7f\u7528QGIS\u6216\u5176\u4ed6GIS\u8f6f\u4ef6\u68c0\u67e5\u88c1\u526a\u540e\u7684\u56fe\u5757\uff0c\u786e\u4fdd\u5b83\u4eec\u6b63\u786e\u5bf9\u9f50\u548c\u88c1\u526a\u3002</li> </ol> <p>\u603b\u7ed3 \u4f7f\u7528QGIS\u5bf9\u9f50\u6b63\u5c04\u5f71\u50cf\u4e0e\u8c37\u6b4c\u5730\u56fe\u3002 \u4f7f\u7528QGIS\u6216Python\u811a\u672c\u88c1\u526a\u6b63\u5c04\u5f71\u50cf\u6210\u5c0f\u5757\u3002 \u68c0\u67e5\u88c1\u526a\u7ed3\u679c\uff0c\u786e\u4fdd\u51c6\u786e\u6027\u3002</p>"},{"location":"TOOL/docker/01-docker-install/","title":"docker\u5b89\u88c5","text":"<p>Ubuntu\u5b89\u88c5Docker \u6709\u4e24\u79cd\u63a8\u8350\u7684\u65b9\u6cd5\uff1a</p> <ul> <li>\u4ece Ubuntu \u7684\u4ed3\u5e93\u5b89\u88c5 Docker\uff1a\u7b80\u5355\u7684\u5355\u884c\u547d\u4ee4\uff0c\u4f46\u63d0\u4f9b\u65e7\u7248\u672c</li> <li>\u4f7f\u7528 Docker \u7684\u5b98\u65b9\u4ed3\u5e93\uff1a\u5de5\u4f5c\u91cf\u7a0d\u591a\uff0c\u4f46\u63d0\u4f9b\u4e86\u6700\u65b0\u7684\u7a33\u5b9a\u7248\u672c</li> </ul>"},{"location":"TOOL/docker/01-docker-install/#1-ubuntu-docker","title":"\u65b9\u6cd5 1\uff1a\u4f7f\u7528 Ubuntu \u7684\u4ed3\u5e93\u5b89\u88c5 Docker","text":"<p>\u5982\u679c\u4f60\u4e0d\u5728\u610f\u65e7\u7248\u672c\uff0c\u5e76\u4e14\u4e0d\u60f3\u8bbe\u7f6e\u548c\u7ba1\u7406\u4ed3\u5e93\uff0c\u90a3\u4e48\u8fd9\u662f\u6700\u9002\u5408\u4f60\u7684\u65b9\u6cd5\u3002</p> <p>\u4ece\u66f4\u65b0\u4ed3\u5e93\u7d22\u5f15\u5f00\u59cb\uff1a</p> Bash<pre><code>apt update\n</code></pre> <p>\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5728 Ubuntu \u4e2d\u5b89\u88c5 Docker \u4ee5\u53ca\u00a0Docker Compose\uff1a</p> Bash<pre><code>sudo apt install docker.io docker-compose\n</code></pre> <p>\ud83d\udccb Docker \u5305\u88ab\u547d\u540d\u4e3a\u00a0<code>docker.io</code>\uff0c\u56e0\u4e3a\u5728 Docker \u51fa\u73b0\u4e4b\u524d\u5c31\u5df2\u7ecf\u5b58\u5728\u4e00\u4e2a\u540d\u4e3a docker\uff08\u7528\u4e8e Dockerlet \u5e94\u7528\uff09\u7684\u8fc7\u6e21\u5305\u3002\u56e0\u6b64\uff0cDocker \u5305\u5fc5\u987b\u88ab\u547d\u540d\u4e3a\u5176\u4ed6\u540d\u79f0\u3002</p> <p>\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u68c0\u67e5\u5b89\u88c5\u7684\u7248\u672c\uff1a</p> Bash<pre><code>docker -v\n</code></pre> <p></p> <p>\u5982\u4f60\u6240\u89c1\uff0c\u5b83\u7ed9\u4e86\u6211 Docker 27.0.2\u3002</p>"},{"location":"TOOL/docker/01-docker-install/#2-ubuntu-docker","title":"\u65b9\u6cd5 2\uff1a\u5728 Ubuntu \u4e2d\u5b89\u88c5\u6700\u65b0\u7a33\u5b9a\u7248\u672c\u7684 Docker","text":"<p>\u5982\u679c\u4f60\u60f3\u8981 Docker \u7684\u6700\u65b0\u7a33\u5b9a\u7248\u672c\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u4ece\u5176\u5b98\u65b9\u4ed3\u5e93\u5b89\u88c5 Docker\u3002</p>"},{"location":"TOOL/docker/01-docker-install/#1-docker","title":"\u6b65\u9aa4 1\uff1a\u5220\u9664\u4efb\u4f55\u73b0\u6709\u7684 Docker \u5305","text":"<p>\u4f46\u5728\u8df3\u5230\u5b89\u88c5\u90e8\u5206\u4e4b\u524d\uff0c\u6709\u5fc5\u8981\u5220\u9664\u6240\u6709\u4ee5\u524d\u5b89\u88c5\u7684 Docker\u3002</p> <p>\u8981\u00a0\u5378\u8f7d\u4ee5\u524d\u7684 Docker\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u3002</p> Bash<pre><code>sudo apt remove docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc\n</code></pre>"},{"location":"TOOL/docker/01-docker-install/#2","title":"\u6b65\u9aa4 2\uff1a\u5b89\u88c5\u4f9d\u8d56\u9879","text":"<p>\u7b2c\u4e00\u6b65\u662f\u5b89\u88c5\u4e00\u4e9b\u5fc5\u8981\u7684\u8f6f\u4ef6\u5305\uff0c\u8fd9\u4e9b\u8f6f\u4ef6\u5305\u5c06\u7528\u4e8e\u5728\u672c\u6559\u7a0b\u540e\u9762\u5b89\u88c5 Docker\uff1a</p> Bash<pre><code>sudo apt install ca-certificates curl gnupg lsb-release\n</code></pre> <p>\u4f60\u53ef\u80fd\u5df2\u7ecf\u5b89\u88c5\u4e86\u90e8\u5206\u6216\u5168\u90e8\u8fd9\u4e9b\u8f6f\u4ef6\u5305\uff0c\u4f46\u786e\u8ba4\u5b89\u88c5\u6ca1\u6709\u4ec0\u4e48\u574f\u5904\u3002\u4e0a\u9762\u7684\u547d\u4ee4\u4e0d\u4f1a\u4f24\u5bb3\u4f60\u3002</p>"},{"location":"TOOL/docker/01-docker-install/#3-docker-gpg-sourceslist","title":"\u6b65\u9aa4 3\uff1a\u6dfb\u52a0 Docker \u4ed3\u5e93\u7684 GPG \u5bc6\u94a5\u5e76\u5c06\u5176\u6dfb\u52a0\u5230 sources.list","text":"<p>\u73b0\u5728\uff0c\u901a\u8fc7\u00a0<code>apt</code>\u00a0\u5305\u7ba1\u7406\u5668\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u7279\u6b8a\u6743\u9650\u7684\u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u50a8\u52a0\u5bc6\u5bc6\u94a5\u4ee5\u8fdb\u884c\u5305\u9a8c\u8bc1\uff1a</p> Bash<pre><code>sudo install -m 0755 -d /etc/apt/keyrings\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u5982\u4e0b\u6240\u793a\u00a0\u4f7f\u7528 curl \u547d\u4ee4\u00a0\u4e0b\u8f7d\u5e76\u5bfc\u5165 Docker \u7684 GPG \u5bc6\u94a5\u73af\uff1a</p> Bash<pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n</code></pre> <p>\u4e0b\u8f7d GPG \u5bc6\u94a5\u540e\uff0c\u4f7f\u7528 chmod \u547d\u4ee4\u66f4\u6539\u6587\u4ef6\u6743\u9650\uff0c\u4ee5\u4fbf\u7cfb\u7edf\u4e0a\u7684\u6bcf\u4e2a\u7528\u6237\u90fd\u53ef\u4ee5\u8bfb\u53d6 GPG \u5bc6\u94a5\uff1a</p> Bash<pre><code>sudo chmod a+r /etc/apt/keyrings/docker.gpg\n</code></pre> <p>\u6700\u540e\uff0c\u5c06 Docker \u4ed3\u5e93\u6dfb\u52a0\u5230\u00a0<code>sources.list.d</code>\u00a0\u6587\u4ef6\u4e2d\uff1a</p> Bash<pre><code>echo \\\n    \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n    $(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\") stable\" | \\\n    sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n</code></pre>"},{"location":"TOOL/docker/01-docker-install/#4-docker-docker-compose","title":"\u6b65\u9aa4 4\uff1a\u5b89\u88c5 Docker \u548c Docker Compose","text":"<p>\u73b0\u5728\uff0c\u8981\u4f7f\u4f60\u5bf9\u7cfb\u7edf\u6240\u505a\u7684\u66f4\u6539\u751f\u6548\uff0c\u8bf7\u66f4\u65b0\u7cfb\u7edf\u4ed3\u5e93\uff1a</p> Bash<pre><code>sudo apt update\n</code></pre> <p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u83b7\u53d6\u6700\u65b0\u7248\u672c\u7684 Docker \u4ee5\u53ca\u5176\u4ed6 Docker \u7ec4\u4ef6\u548c\u4f9d\u8d56\u9879\uff1a</p> Bash<pre><code>sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre> <p>\ud83d\udccb \u867d\u7136\u00a0docker.io\u00a0\u5305\u5b89\u88c5\u4e86\u5927\u90e8\u5206\u5fc5\u9700\u7684 Docker \u7ec4\u4ef6\uff0c\u4f46\u4f60\u9700\u8981\u5728\u6b64\u5904\u5355\u72ec\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u8981\u68c0\u67e5\u5df2\u5b89\u88c5\u7684\u7248\u672c\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>docker -v\n</code></pre> <p>\u6d4b\u8bd5\u5b89\u88c5\u7684\u53e6\u4e00\u4e2a\u65b9\u6cd5\u662f\u5728 Docker \u4e2d\u4f7f\u7528 \u201cHello World\u201d \u955c\u50cf\u3002</p> <p>\u8ba9\u6211\u544a\u8bc9\u4f60\u5982\u4f55\u505a\u3002</p>"},{"location":"TOOL/docker/01-docker-install/#hello-world-docker","title":"\u4f7f\u7528 hello-world \u955c\u50cf\u6765\u9a8c\u8bc1 Docker \u5b89\u88c5","text":"<p>\u8fd0\u884c \u201cHello World\u201d \u7a0b\u5e8f\u662f\u6211\u4eec\u542f\u52a8\u4efb\u4f55\u7f16\u7a0b\u4e4b\u65c5\u65f6\u90fd\u9075\u5faa\u7684\u6807\u51c6\u505a\u6cd5\uff0cDocker \u4e5f\u662f\u5982\u6b64\u3002</p> <p>Docker \u4e3a\u4f60\u63d0\u4f9b\u4e86\u4e00\u4e2a \u201cHello World\u201d \u955c\u50cf\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u6d4b\u8bd5\u5b89\u88c5\u3002</p> <p>\u8981\u5b89\u88c5\u5e76\u8fd0\u884c \u201cHello World\u201d \u955c\u50cf\uff0c\u53ea\u9700\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> Bash<pre><code>sudo docker run hello-world\n</code></pre> <p>\u67d0\u4e9b\u7528\u6237\u5728\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u65f6\u53ef\u80fd\u4f1a\u6536\u5230\u9519\u8bef\u6d88\u606f\u201c\u65e0\u6cd5\u8fde\u63a5\u5230 Docker \u5b88\u62a4\u8fdb\u7a0b\u201d\uff1a</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u91cd\u65b0\u542f\u52a8\u7cfb\u7edf\u5e76\u518d\u6b21\u5c1d\u8bd5\u5b89\u88c5 Docker Hello World \u955c\u50cf\uff0c\u5b83\u5c06\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"TOOL/docker/01-docker-install/#ubuntu-docker-sudo","title":"\ud83d\udca1 \u989d\u5916\u63d0\u793a\uff1a\u5728 Ubuntu \u4e2d\u4f7f\u7528 Docker \u800c\u65e0\u9700 sudo","text":"<p>\u4f7f\u7528 sudo \u6765\u62c9\u53d6 Docker \u955c\u50cf\uff0c\u8fd9\u5e76\u4e0d\u662f\u4f7f\u7528 Docker \u6700\u65b9\u4fbf\u7684\u65b9\u5f0f</p> <p>\u7b2c\u4e00\u6b65\u662f\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u00a0\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a docker \u7684\u65b0\u7ec4\uff1a</p> Bash<pre><code>sudo groupadd docker\n</code></pre> <p>\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5c06\u7528\u6237\u6dfb\u52a0\u5230\u00a0<code>docker</code>\u00a0\u7ec4\uff1a</p> Text Only<pre><code>sudo usermod -aG docker &lt;\u7528\u6237\u540d&gt;\n</code></pre> <p>\ud83d\udea7 \u786e\u4fdd\u4f60\u53ea\u6dfb\u52a0\u5177\u6709\u8d85\u7ea7\u7528\u6237\u6743\u9650\u7684\u7528\u6237</p> <p>\u73b0\u5728\uff0c\u6ce8\u9500\u5e76\u91cd\u65b0\u767b\u5f55\u4ee5\u4f7f\u66f4\u6539\u751f\u6548\u3002\u4f46\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u865a\u62df\u673a\uff0c\u90a3\u4e48\u5fc5\u987b\u91cd\u65b0\u542f\u52a8\u3002</p> <p>\u5c31\u662f\u8fd9\u6837\uff01\u4ece\u73b0\u5728\u5f00\u59cb\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u00a0<code>docker</code>\u00a0\u547d\u4ee4\u800c\u4e0d\u9700\u8981 sudo</p>"},{"location":"TOOL/docker/01-docker-install/#_1","title":"\u6dfb\u52a0\u955c\u50cf\u6e90","text":"<p>\u5728<code>/etc/docker</code>\u76ee\u5f55\u4e2d\u6dfb\u52a0daemon.json\u6587\u4ef6,\u52a0\u5165\u963f\u91cc\u4e91\u955c\u50cf \u91cd\u542fdocker\u670d\u52a1 Bash<pre><code>sudo service docker restart\n</code></pre> \u7136\u540e\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u786e\u5b9a\u955c\u50cf\u4fee\u6539\u6210\u529f, \u8fdb\u884c\u67e5\u770b Bash<pre><code>sudo docker info\n</code></pre> \u56fd\u5185\u5e38\u89c1\u7684\u955c\u50cf\u52a0\u901f\u5668</p> <ul> <li>Docker \u4e2d\u56fd\u5b98\u65b9\u955c\u50cf https://registry.docker-cn.com</li> <li>DaoCloud \u955c\u50cf\u7ad9  http://f1361db2.m.daocloud.io</li> <li>Azure \u4e2d\u56fd\u955c\u50cf    https://dockerhub.azk8s.cn</li> <li>\u79d1\u5927\u955c\u50cf\u7ad9 https://docker.mirrors.ustc.edu.cn</li> <li>\u963f\u91cc\u4e91   https://ud6340vz.mirror.aliyuncs.com</li> <li>\u4e03\u725b\u4e91   https://reg-mirror.qiniu.com</li> <li>\u7f51\u6613\u4e91   https://hub-mirror.c.163.com</li> <li>\u817e\u8baf\u4e91   https://mirror.ccs.tencentyun.com</li> </ul>"},{"location":"TOOL/docker/01-docker-install/#docker_1","title":"\u914d\u7f6eDocker\u5b88\u62a4\u8fdb\u7a0b\u4f7f\u7528\u4ee3\u7406","text":"<p>1.\u521b\u5efa\u6216\u7f16\u8f91Docker\u5b88\u62a4\u8fdb\u7a0b\u7684\u4ee3\u7406\u914d\u7f6e\u6587\u4ef6\uff1a</p> <p>\u5728 <code>/etc/systemd/system/docker.service.d</code> \u76ee\u5f55\u4e0b\u521b\u5efa\u6216\u7f16\u8f91 <code>http-proxy.conf</code> \u6587\u4ef6\uff1a</p> Bash<pre><code>sudo mkdir -p /etc/systemd/system/docker.service.d\nsudo nano /etc/systemd/system/docker.service.d/http-proxy.conf\n</code></pre> <p>2.\u6dfb\u52a0\u4ee3\u7406\u914d\u7f6e\uff1a</p> <p>\u5728\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff0c\u4f7f\u7528\u60a8\u7684\u4ee3\u7406\u5730\u5740\uff1a</p> <p>Text Only<pre><code>[Service]\nEnvironment=\"HTTP_PROXY=http://127.0.0.1:7897/\"\nEnvironment=\"HTTPS_PROXY=http://127.0.0.1:7897/\"\n</code></pre> 3.\u91cd\u65b0\u52a0\u8f7d\u5b88\u62a4\u8fdb\u7a0b\u5e76\u91cd\u542fDocker\uff1a</p> Bash<pre><code>sudo systemctl daemon-reload\nsudo systemctl restart docker\n</code></pre> <p>4.\u9a8c\u8bc1\u8bbe\u7f6e\u662f\u5426\u751f\u6548\uff1a \u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770bDocker\u7684\u4ee3\u7406\u8bbe\u7f6e\uff1a</p> Bash<pre><code>systemctl show --property=Environment docker\n</code></pre>"},{"location":"TOOL/docker/01-docker-install/#docker_2","title":"\u9a8c\u8bc1Docker\u4ee3\u7406\u8bbe\u7f6e","text":"<p>Bash<pre><code>docker info\n</code></pre> \u68c0\u67e5\u8f93\u51fa\u4e2d\u7684 \"HTTP Proxy\" \u548c \"HTTPS Proxy\" \u8bbe\u7f6e\u662f\u5426\u6b63\u786e\u3002</p>"},{"location":"TOOL/docker/01-docker-install/#docker_3","title":"\u91cd\u65b0\u62c9\u53d6Docker\u955c\u50cf","text":"Bash<pre><code>sudo docker pull opendronemap/odm\n</code></pre>"},{"location":"TOOL/docker/02-docker-commands/","title":"docker\u57fa\u672c\u547d\u4ee4","text":"<p>\u53c2\u8003https://docs.docker.com/reference/cli/docker/</p>"},{"location":"TOOL/docker/02-docker-commands/#docker_1","title":"docker\u7b80\u4ecb","text":"<p>Docker \u662f\u4e00\u4e2a\u5e94\u7528\u6253\u5305\u3001\u5206\u53d1\u3001\u90e8\u7f72\u7684\u5de5\u5177</p> <p>\u6253\u5305\uff1a\u628a\u8f6f\u4ef6\u8fd0\u884c\u6240\u9700\u7684\u4f9d\u8d56\u3001\u7b2c\u4e09\u65b9\u5e93\u3001\u8f6f\u4ef6\u6253\u5305\u5230\u4e00\u8d77\uff0c\u53d8\u6210\u4e00\u4e2a\u5b89\u88c5\u5305 \u5206\u53d1\uff1a\u628a\u6253\u5305\u597d\u7684\u201c\u5b89\u88c5\u5305\u201d\u4e0a\u4f20\u5230\u4e00\u4e2a\u955c\u50cf\u4ed3\u5e93\uff0c\u5176\u4ed6\u4eba\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u83b7\u53d6\u548c\u5b89\u88c5 \u90e8\u7f72\uff1a\u62ff\u7740\u201c\u5b89\u88c5\u5305\u201d\u5c31\u53ef\u4ee5\u4e00\u4e2a\u547d\u4ee4\u8fd0\u884c\u8d77\u6765\u4f60\u7684\u5e94\u7528\uff0c\u81ea\u52a8\u6a21\u62df\u51fa\u4e00\u6478\u4e00\u6837\u7684\u8fd0\u884c\u73af\u5883\uff0c\u4e0d\u7ba1\u662f\u5728 Windows/Mac/Linux</p> <p>\u786e\u4fdd\u4e86\u4e0d\u540c\u673a\u5668\u4e0a\u90fd\u662f\u4e00\u81f4\u7684\u8fd0\u884c\u73af\u5883</p> <p>\u955c\u50cf\uff1a\u955c\u50cf\u5305\u542b\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u6240\u9700\u7684\u6240\u6709\u5185\u5bb9\u2014\u2014\u4ee3\u7801\u6216\u4e8c\u8fdb\u5236\u6587\u4ef6\u3001\u8fd0\u884c\u65f6\u3001\u4f9d\u8d56\u9879\u4ee5\u53ca\u6240\u9700\u7684\u4efb\u4f55\u5176\u4ed6\u6587\u4ef6\u7cfb\u7edf\u5bf9\u8c61\u3002\u53ef\u4ee5\u7406\u89e3\u4e3a\u8f6f\u4ef6\u5b89\u88c5\u5305\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u8fdb\u884c\u4f20\u64ad\u548c\u5b89\u88c5\u3002 \u5bb9\u5668\uff1a\u5bb9\u5668\u53ea\u4e0d\u8fc7\u662f\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\uff0c\u5b83\u8fd8\u5e94\u7528\u4e86\u4e00\u4e9b\u9644\u52a0\u7684\u5c01\u88c5\u529f\u80fd\uff0c\u4ee5\u4f7f\u5176\u4e0e\u4e3b\u673a\u548c\u5176\u4ed6\u5bb9\u5668\u4fdd\u6301\u9694\u79bb\u3002\u5bb9\u5668\u9694\u79bb\u7684\u6700\u91cd\u8981\u65b9\u9762\u4e4b\u4e00\u662f\u6bcf\u4e2a\u5bb9\u5668\u90fd\u4e0e\u81ea\u5df1\u7684\u79c1\u6709\u6587\u4ef6\u7cfb\u7edf\u8fdb\u884c\u4ea4\u4e92\uff1b\u8be5\u6587\u4ef6\u7cfb\u7edf\u7531Docker\u955c\u50cf\u63d0\u4f9b\u3002</p>"},{"location":"TOOL/docker/02-docker-commands/#_1","title":"\u83b7\u53d6\u955c\u50cf","text":"<p>\u83b7\u53d6\u955c\u50cf\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a  * \u4f7f\u7528\u4ed6\u4eba\u6253\u5305\u597d\uff0c\u5e76\u901a\u8fc7\u7f51\u7edc\uff08\u4e3b\u8981\u662fdocker\u5b98\u65b9\u7684docker hub\u548c\u4e00\u4e9b\u7c7b\u4f3c\u7684\u955c\u50cf\u6258\u7ba1\u7f51\u7ad9\uff09\u8fdb\u884c\u5206\u4eab\u7684\u955c\u50cf\uff1b * \u5728\u672c\u5730\u5c06\u955c\u50cf\u4fdd\u5b58\u4e3a\u672c\u5730\u6587\u4ef6\uff0c\u76f4\u63a5\u4f7f\u7528\u751f\u6210\u7684\u6587\u4ef6\u8fdb\u884c\u5171\u4eab\u3002\u540e\u8005\u5728\u7f51\u7edc\u9996\u5148\u73af\u5883\u4e0b\u66f4\u52a0\u65b9\u4fbf\uff1b</p>"},{"location":"TOOL/docker/02-docker-commands/#_2","title":"\u4ece\u7f51\u7edc","text":"<p>\u8fd9\u91cc\u4e3b\u8981\u53ef\u4ee5\u501f\u52a9\u4e8e\u4e24\u6761\u6307\u4ee4\u3002\u4e00\u4e2a\u662f <code>docker pull</code> \uff0c\u53e6\u4e00\u4e2a\u662f <code>docker run</code> Bash<pre><code>docker pull [OPTIONS] NAME[:TAG|@DIGEST]\n</code></pre> \u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u4ece\u4ed3\u5e93\u4e2d\u62c9\u53d6\uff08pull\uff09\u6307\u5b9a\u7684\u955c\u50cf\u5230\u672c\u673a\u3002\u770b\u5b83\u7684\u914d\u7f6e\u9879\uff0c\u5bf9\u4e8e\u53ef\u9009\u9879\u6211\u4eec\u6682\u4e0d\u9700\u8981\u7ba1\uff0c\u6211\u4eec\u91cd\u70b9\u5173\u6ce8\u540e\u9762\u7684 NAME \u548c\u7d27\u8ddf\u7684\u4e24\u4e2a\u4e92\u65a5\u7684\u914d\u7f6e\u9879\u3002 \u5bf9\u5e94\u4e8e\u8fd9\u91cc\u7684\u4e09\u79cd\u6784\u9020\u6307\u4ee4\u7684\u65b9\u5f0f\uff0c\u6587\u6863\u4e2d\u7ed9\u51fa\u4e86\u51e0\u79cd\u4e0d\u540c\u7684\u62c9\u53d6\u65b9\u5f0f\uff1a</p> <ul> <li>NAME</li> <li><code>docker pull ubuntu</code> \u5982\u679c\u4e0d\u6307\u5b9a\u6807\u7b7e\uff0cDocker Engine\u4f1a\u4f7f\u7528 :latest \u4f5c\u4e3a\u9ed8\u8ba4\u6807\u7b7e\u62c9\u53d6\u955c\u50cf\u3002</li> <li>NAME:TAG</li> <li><code>docker pull ubuntu:14.04</code> \u4f7f\u7528\u6807\u7b7e\u65f6\uff0c\u53ef\u4ee5\u518d\u6b21 <code>docker pull</code> \u8fd9\u4e2a\u955c\u50cf\uff0c\u4ee5\u786e\u4fdd\u5177\u6709\u8be5\u955c\u50cf\u7684\u6700\u65b0\u7248\u672c\u3002 \u4f8b\u5982\uff0c<code>docker pull ubuntu:14.04</code> \u5c06\u4f1a\u62c9\u53d6<code>Ubuntu 14.04</code>\u955c\u50cf\u7684\u6700\u65b0\u7248\u672c\u3002</li> <li>NAME@DIGEST</li> <li><code>docker pull ubuntu@sha256:45b23dee08af5e43a7fea6c4cf9c25ccf269ee113168c19722f87876677c5cb2</code> \u8fd9\u4e2a\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u79cd\u6307\u5b9a\u7279\u5b9a\u7248\u672c\u955c\u50cf\u7684\u65b9\u6cd5 \u4e3a\u4e86\u4fdd\u8bc1\u540e\u671f\u6211\u4eec\u4ec5\u4ec5\u4f7f\u7528\u8fd9\u4e2a\u7248\u672c\u7684\u955c\u50cf\uff0c\u6211\u4eec\u53ef\u4ee5\u91cd\u65b0\u901a\u8fc7\u6307\u5b9aDIGEST\uff08\u901a\u8fc7\u67e5\u770b\u955c\u50cf\u6258\u7ba1\u7f51\u7ad9\u91cc\u7684\u955c\u50cf\u4fe1\u606f\u6216\u8005\u662f\u4e4b\u524d\u7684 pull \u8f93\u51fa\u91cc\u7684DIGEST\u4fe1\u606f\uff09\u7684\u65b9\u5f0f pull \u8be5\u7248\u672c\u955c\u50cf\u3002</li> </ul> Bash<pre><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\n</code></pre> <p><code>docker run</code> \u547d\u4ee4\u9996\u5148\u5728\u6307\u5b9a\u7684\u6620\u50cf\u4e0a\u521b\u5efa\u4e00\u4e2a\u53ef\u5199\u7684\u5bb9\u5668\u5c42\uff0c\u7136\u540e\u4f7f\u7528\u6307\u5b9a\u7684\u547d\u4ee4\u542f\u52a8\u5b83\u3002</p> <p>\u8fd9\u4e2a\u5b9e\u9645\u4e0a\u4f1a\u81ea\u52a8\u4ece\u5b98\u65b9\u4ed3\u5e93\u4e2d\u4e0b\u8f7d\u672c\u5730\u6ca1\u6709\u7684\u955c\u50cf\u3002\u66f4\u591a\u662f\u4f7f\u7528\u4f1a\u5728\u540e\u9762\u521b\u5efa\u5bb9\u5668\u7684\u90e8\u5206\u4ecb\u7ecd\u3002</p> Bash<pre><code>$ sudo docker images\nREPOSITORY                                             TAG                 IMAGE ID            CREATED             SIZE\n\n$ sudo docker run hello-world\nUnable to find image 'hello-world:latest' locally\nlatest: Pulling from library/hello-world\n0e03bdcc26d7: Pull complete \nDigest: sha256:49a1c8800c94df04e9658809b006fd8a686cab8028d33cfba2cc049724254202\nStatus: Downloaded newer image for hello-world:latest\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n\n$ sudo docker images\nREPOSITORY                                             TAG                 IMAGE ID            CREATED             SIZE\nhello-world                                            latest              bf756fb1ae65        7 months ago        13.3kB\n</code></pre>"},{"location":"TOOL/docker/02-docker-commands/#_3","title":"\u4ece\u4ed6\u4eba\u5904","text":"<p>\u5173\u4e8e\u5982\u4f55\u4fdd\u5b58\u955c\u50cf\u5728\u540e\u9762\u4ecb\u7ecd\uff0c\u5176\u6d89\u53ca\u5230\u7684\u6307\u4ee4\u4e3a <code>docker save</code> \uff0c\u8fd9\u91cc\u4e3b\u8981\u8bb2\u5982\u4f55\u52a0\u8f7d\u5df2\u7ecf\u5bfc\u51fa\u7684\u955c\u50cf\u6587\u4ef6\u3002 Bash<pre><code>docker load [OPTIONS]\n</code></pre> \u4f8b\u5b50\u53ef\u89c1\uff1ahttps://docs.docker.com/engine/reference/commandline/load/#examples</p>"},{"location":"TOOL/docker/02-docker-commands/#_4","title":"\u5982\u4f55\u4f7f\u7528\u955c\u50cf","text":"<p>\u5355\u7eaf\u7684\u4f7f\u7528\u955c\u50cf\u5b9e\u9645\u4e0a\u5c31\u662f\u56f4\u7ed5\u6307\u4ee4 <code>docker run</code> \u6765\u7684\u3002</p> <p>\u9996\u5148\u6211\u4eec\u901a\u8fc7\u4f7f\u7528 <code>docker images</code> \u6765\u67e5\u770b\u672c\u673a\u4e2d\u5df2\u7ecf\u4fdd\u5b58\u7684\u955c\u50cf\u4fe1\u606f\u5217\u8868\u3002 Bash<pre><code>$ sudo docker images\nREPOSITORY                                             TAG                 IMAGE ID            CREATED             SIZE\n</code></pre></p> <p>\u901a\u8fc7\u8fd0\u884c <code>docker run</code> \u83b7\u53d6\u955c\u50cf\u5e76\u521b\u5efa\u5bb9\u5668\u3002 Bash<pre><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]\n</code></pre> run\u5305\u542b\u5f88\u591a\u7684\u53c2\u6570\u548c\u914d\u7f6e\u9879\uff0c\u8fd9\u91cc\u4ee5nvidia-docker\u4e3a\u4f8bhttps://github.com/NVIDIA/nvidia-docker#usage\uff1a Bash<pre><code>sudo docker run --rm -it --gpus all --name test -v /home/mydataroot:/tcdata:ro nvidia/cuda:10.0-base /bin/bash\n</code></pre> \u8fd9\u6761\u6307\u4ee4\u505a\u7684\u5c31\u662f\uff1a</p> <p>\u542f\u52a8Docker\u5bb9\u5668\u65f6\uff0c\u5fc5\u987b\u9996\u5148\u786e\u5b9a\u662f\u8981\u5728\u540e\u53f0\u4ee5 \u201c\u5206\u79bb\u201d \u6a21\u5f0f\u8fd8\u662f\u5728\u9ed8\u8ba4\u524d\u53f0\u6a21\u5f0f\u4e0b\u8fd0\u884c\u5bb9\u5668\uff1a <code>-d</code>\uff0c\u8fd9\u91cc\u6ca1\u6709\u6307\u5b9a <code>-d</code> \u5219\u662f\u4f7f\u7528\u9ed8\u8ba4\u524d\u53f0\u6a21\u5f0f\u8fd0\u884c\u3002\u4e24\u79cd\u6a21\u5f0f\u4e0b\uff0c\u90e8\u5206\u53c2\u6570\u914d\u7f6e\u4e0d\u540c\uff0c\u8fd9\u90e8\u5206\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003\u6587\u6863\uff1ahttps://docs.docker.com/engine/reference/run/#detached-vs-foreground \u4f7f\u7528\u955c\u50cf <code>nvidia/cuda:10.0-base</code> \u521b\u5efa\u5bb9\u5668\uff0c\u5e76\u5bf9\u5bb9\u5668\u8d77\u4e00\u4e2a\u522b\u540d <code>test</code>\u3002 \u5bf9\u4e8e\u8be5\u5bb9\u5668\uff0c\u5f00\u542fgpu\u652f\u6301\uff0c\u5e76\u4e14\u6240\u6709GPU\u90fd\u53ef\u7528\uff0c\u4f46\u662f\u524d\u63d0\u4f60\u5f97\u88c5\u597d<code>nvidia-docker</code>\u3002 <code>--rm</code> \u8868\u793a\u9000\u51fa\u5bb9\u5668\u7684\u65f6\u5019\u81ea\u52a8\u79fb\u9664\u5bb9\u5668\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u7b49\u573a\u666f\u4e0b\u5f88\u65b9\u4fbf\uff0c\u4e0d\u7528\u518d\u624b\u52a8\u5220\u9664\u5df2\u7ecf\u521b\u5efa\u7684\u5bb9\u5668\u4e86\u3002 <code>-t</code> \u548c <code>-i</code> \uff1a\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u4f5c\u7528\u662f\uff0c\u4e3a\u8be5docker\u521b\u5efa\u4e00\u4e2a\u4f2a\u7ec8\u7aef\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8fdb\u5165\u5230\u5bb9\u5668\u7684\u4ea4\u4e92\u6a21\u5f0f\u3002 \u540e\u9762\u7684 <code>/bin/bash</code> \u7684\u4f5c\u7528\u662f\u8868\u793a\u8f7d\u5165\u5bb9\u5668\u540e\u8fd0\u884c <code>bash</code> \u3002docker\u4e2d\u5fc5\u987b\u8981\u4fdd\u6301\u4e00\u4e2a\u8fdb\u7a0b\u7684\u8fd0\u884c\uff0c\u8981\u4e0d\u7136\u6574\u4e2a\u5bb9\u5668\u542f\u52a8\u540e\u5c31\u4f1a\u9a6c\u4e0a<code>kill itself</code>\uff0c\u8fd9\u6837\u5f53\u4f60\u4f7f\u7528 <code>docker ps</code> \u67e5\u770b\u542f\u52a8\u7684\u5bb9\u5668\u65f6\uff0c\u5c31\u4f1a\u53d1\u73b0\u4f60\u521a\u521a\u521b\u5efa\u7684\u90a3\u4e2a\u5bb9\u5668\u5e76\u4e0d\u5728\u5df2\u542f\u52a8\u7684\u5bb9\u5668\u961f\u5217\u4e2d\u3002 \u8fd9\u4e2a <code>/bin/bash</code> \u5c31\u8868\u793a\u542f\u52a8\u5bb9\u5668\u540e\u542f\u52a8 <code>bash</code> \u3002 <code>-v</code>\u8868\u793a\u5c06\u672c\u5730\u7684\u6587\u4ef6\u5939\u4ee5\u53ea\u8bfb<code>:ro</code>\uff0c\u8bfb\u5199\u53ef\u4ee5\u5199\u4e3a <code>:rw</code> \uff0c\u5982\u679c\u4e0d\u52a0\uff0c\u5219\u9ed8\u8ba4\u7684\u65b9\u5f0f\u662f\u8bfb\u5199\u7684\u65b9\u5f0f\u6302\u8f7d\u5230\u5bb9\u5668\u4e2d\u7684 /tcdata \u76ee\u5f55\u4e2d\u3002 Bash<pre><code>(base) xujg@xujg-ASUS:~/\u6587\u6863/xjg-docs$ sudo docker run -it ubuntu bash\nUnable to find image 'ubuntu:latest' locally\nlatest: Pulling from library/ubuntu\n7b1a6ab2e44d: Pull complete \nDigest: sha256:626ffe58f6e7566e00254b638eb7e0f3b11d4da9675088f4781a50ae288f3322\nStatus: Downloaded newer image for ubuntu:latest\nroot@bf26f5984d7f:/# exit\nexit\n(base) xujg@xujg-ASUS:~/\u6587\u6863/xjg-docs$ sudo docker images\nREPOSITORY    TAG         IMAGE ID       CREATED       SIZE\nubuntu        latest      ba6acccedd29   2 years ago   72.8MB\nhello-world   latest      feb5d9fea6a5   2 years ago   13.3kB\nnvidia/cuda   10.0-base   97cca2bac989   2 years ago   109MB\n(base) xujg@xujg-ASUS:~/\u6587\u6863/xjg-docs$ sudo docker ps # \u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\u4fe1\u606f\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n(base) xujg@xujg-ASUS:~/\u6587\u6863/xjg-docs$ sudo docker ps -a # \u67e5\u770b\u6240\u6709\u5bb9\u5668\u4fe1\u606f\nCONTAINER ID   IMAGE         COMMAND    CREATED          STATUS                      PORTS     NAMES\nbf26f5984d7f   ubuntu        \"bash\"     51 seconds ago   Exited (0) 23 seconds ago             pensive_archimedes\n048496d67740   hello-world   \"/hello\"   27 minutes ago   Exited (0) 27 minutes ago             angry_dhawan\n</code></pre> \u5f53\u6211\u4eec\u60f3\u8981\u5220\u9664\u6307\u5b9a\u7684\u955c\u50cf\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>sudo docker rmi</code> \u6765\u8fdb\u884c\u5904\u7406\u3002</p> <p><code>docker rmi [OPTIONS] IMAGE [IMAGE...]</code> \u540e\u9762\u53ef\u4ee5\u8ddf\u591a\u4e2a\u955c\u50cf\u3002\u8fd9\u91cc\u652f\u6301\u4e09\u79cd\u65b9\u5f0f\uff1a * \u4f7f\u7528IMAGE ID\uff1a<code>docker rmi fd484f19954f</code> * \u4f7f\u7528TAG\uff1a <code>docker rmi test:latest</code> * \u4f7f\u7528DIGEST\uff1a <code>docker rmi localhost:5000/test/busybox@sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf</code></p>"},{"location":"TOOL/docker/02-docker-commands/#_5","title":"\u5982\u4f55\u4f7f\u7528\u5bb9\u5668","text":""},{"location":"TOOL/docker/02-docker-commands/#_6","title":"\u521b\u5efa\u5bb9\u5668","text":"<p>\u4ece\u524d\u9762\u53ef\u4ee5\u4e86\u89e3\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 docker run \u521b\u5efa\u524d\u53f0\u8fd0\u884c\u7684\u5bb9\u5668\uff0c\u521b\u5efa\u597d\u4e86\u5bb9\u5668\u6211\u4eec\u4f1a\u9762\u4e34\u5982\u4f55\u4f7f\u7528\u7684\u95ee\u9898\u3002</p>"},{"location":"TOOL/docker/02-docker-commands/#_7","title":"\u8fdb\u5165\u5bb9\u5668","text":"<p>\u8fdb\u5165\u5bb9\u5668\u7684\u65b9\u6cd5\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u4f46\u662f\u8fd9\u91cc\u4f1a\u9762\u4e34\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd\u662f\u5df2\u7ecf\u9000\u51fa\u7684\u5bb9\u5668\uff0c\u53e6\u4e00\u79cd\u662f\u8fd0\u884c\u5728\u540e\u53f0\u7684\u5206\u79bb\u6a21\u5f0f\u4e0b\u7684\u5bb9\u5668\u3002</p>"},{"location":"TOOL/docker/02-docker-commands/#_8","title":"\u5df2\u9000\u51fa\u7684\u5bb9\u5668","text":"Bash<pre><code>$ sudo docker run -it --gpus all --name testv3 -v /home/lart/Downloads/:/data nvidia/cuda:10.0-base bash\nroot@efd722f0321f:/# exit\nexit\n(pt16) lart@god:~/Coding/RGBSOD_MS$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              19 seconds ago      Exited (0) 3 seconds ago                           testv3\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u8fd9\u91cc\u5b58\u5728\u4e00\u4e2a\u5df2\u7ecf\u9000\u51fa\u7684\u5bb9\u5668\u3002\u6211\u4eec\u60f3\u8981\u8fdb\u5165\u9000\u51fa\u7684\u5bb9\u5668\u9996\u5148\u9700\u8981\u542f\u52a8\u5df2\u7ecf\u9000\u51fa\u7684\u5bb9\u5668\uff1a Bash<pre><code>(pt16) lart@god:~/Coding/RGBSOD_MS$ sudo docker start testv3\ntestv3\n(pt16) lart@god:~/Coding/RGBSOD_MS$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              31 seconds ago      Up 1 second    \n</code></pre> \u5173\u4e8e\u91cd\u542f\u5bb9\u5668\uff0c\u4f7f\u7528 <code>docker restart</code> \u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u4e3a\u4e86\u9a8c\u8bc1\uff0c\u6211\u4eec\u5148\u4f7f\u7528 <code>docker stop</code> \u505c\u6b62\u6307\u5b9a\u5bb9\u5668\u3002\u518d\u8fdb\u884c\u6d4b\u8bd5</p> Bash<pre><code>$ sudo docker stop testv3\ntestv3\n$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              2 minutes ago       Exited (0) 4 seconds ago                           testv3\n$ sudo docker restart testv3  # restart \u4e0d\u4ec5\u53ef\u4ee5\u91cd\u542f\u5173\u6389\u7684\u5bb9\u5668\uff0c\u4e5f\u53ef\u4ee5\u91cd\u542f\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668\ntestv3\n$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              2 minutes ago       Up 1 second \n</code></pre>"},{"location":"TOOL/docker/02-docker-commands/#_9","title":"\u540e\u53f0\u5206\u79bb\u6a21\u5f0f\u8fd0\u884c\u7684\u5bb9\u5668","text":"<p>\u5bf9\u4e8e\u521b\u5efa\u5206\u79bb\u6a21\u5f0f\u7684\u5bb9\u5668\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>docker run -d</code> \u3002 \u53e6\u5916\u524d\u9762\u63d0\u5230\u7684 <code>start</code> \u6216\u8005 <code>restart</code> \u542f\u52a8\u7684\u5bb9\u5668\u4f1a\u81ea\u52a8\u4ee5\u5206\u79bb\u6a21\u5f0f\u8fd0\u884c\u3002</p>"},{"location":"TOOL/docker/02-docker-commands/#_10","title":"\u8fdb\u5165\u542f\u52a8\u7684\u5bb9\u5668","text":"<p>\u5bf9\u4e8e\u5df2\u7ecf\u542f\u52a8\u7684\u5bb9\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>attach</code> \u6216\u8005 <code>exec</code> \u8fdb\u5165\u8be5\u5bb9\u5668\uff0c\u4f46\u662f\u66f4\u63a8\u8350\u540e\u8005\uff0c\u533a\u522b\u662f<code>exec</code>\u9000\u51fa\u5bb9\u5668\u65f6\uff0c\u81ea\u52a8\u5173\u95ed</p> Bash<pre><code>$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              16 minutes ago      Exited (0) 2 minutes ago                           testv3\n$ sudo docker start testv3\ntestv3\n$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              16 minutes ago      Up 2 seconds                                       testv3\n\n$ sudo docker exec -it testv3 bash\nroot@efd722f0321f:/# exit\nexit\n$ sudo docker ps -a # \u53ef\u4ee5\u770b\u5230exec\u9000\u51fa\u540e\u4e0d\u4f1a\u628a\u5bb9\u5668\u5173\u95ed\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              17 minutes ago      Up 36 seconds                                      testv3\n\n$ sudo docker attach testv3\nroot@efd722f0321f:/# exit\nexit\n$ sudo docker ps -a  # \u53ef\u4ee5\u770b\u5230attach\u9000\u51fa\u540e\u4f1a\u628a\u5bb9\u5668\u5173\u95ed\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\nefd722f0321f        nvidia/cuda:10.0-base   \"bash\"              18 minutes ago      Exited (0) 2 seconds ago                           testv3\n</code></pre>"},{"location":"TOOL/docker/02-docker-commands/#_11","title":"\u5220\u9664\u5bb9\u5668","text":"Bash<pre><code>sudo docker rm [OPTIONS] CONTAINER [CONTAINER...]\n</code></pre>"},{"location":"TOOL/docker/02-docker-commands/#_12","title":"\u505c\u6b62\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668","text":"<p><code>docker stop</code> \uff1a\u6b64\u65b9\u5f0f\u5e38\u5e38\u88ab\u7ffb\u8bd1\u4e3a\u4f18\u96c5\u7684\u505c\u6b62\u5bb9\u5668\u3002 <code>docker stop</code> \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d <code>-t</code> \uff1a\u5173\u95ed\u5bb9\u5668\u7684\u9650\u65f6\uff0c\u5982\u679c\u8d85\u65f6\u672a\u80fd\u5173\u95ed\u5219\u7528 kill \u5f3a\u5236\u5173\u95ed\uff0c\u9ed8\u8ba4\u503c10s\uff0c\u8fd9\u4e2a\u65f6\u95f4\u7528\u4e8e\u5bb9\u5668\u7684\u81ea\u5df1\u4fdd\u5b58\u72b6\u6001\uff0c <code>docker stop -t=60</code> \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d <code>docker kill</code> \uff1a\u76f4\u63a5\u5173\u95ed\u5bb9\u5668 <code>docker kill</code> \u5bb9\u5668ID\u6216\u5bb9\u5668\u540d</p>"},{"location":"TOOL/docker/02-docker-commands/#_13","title":"\u4ece\u672c\u673a\u4e0e\u5bb9\u5668\u4e2d\u4e92\u76f8\u62f7\u8d1d\u6570\u636e","text":"<p><code>docker cp</code> \uff1a\u7528\u4e8e\u5bb9\u5668\u4e0e\u4e3b\u673a\u4e4b\u95f4\u7684\u6570\u636e\u62f7\u8d1d\u3002 Bash<pre><code>docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|-\ndocker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH\n</code></pre> The docker cp utility copies the contents of SRC_PATH to the DEST_PATH. You can copy from the container\u2019s file system to the local machine or the reverse, from the local filesystem to the container. If - is specified for either the SRC_PATH or DEST_PATH, you can also stream a tar archive from STDIN or to STDOUT. The CONTAINER can be a running or stopped container. The SRC_PATH or DEST_PATH can be a file or directory. \u7531\u4e8e\u5bb9\u5668\u5185\u7684\u6570\u636e\u4e0e\u5bb9\u5668\u5916\u7684\u6570\u636e\u5e76\u4e0d\u5171\u4eab\uff0c\u6240\u4ee5\u5982\u679c\u6211\u4eec\u60f3\u8981\u5411\u5176\u4e2d\u62f7\u8d1d\u4e00\u4e9b\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6307\u4ee4\u6765\u8fdb\u884c\u590d\u5236\u3002\u5f53\u7136\uff0c\u53e6\u4e00\u4e2a\u6bd4\u8f83\u76f4\u63a5\u7684\u60f3\u6cd5\u5c31\u662f\u901a\u8fc7\u6302\u8f7d\u7684\u76ee\u5f55\u8fdb\u884c\u6587\u4ef6\u5171\u4eab\u4e0e\u590d\u5236\u3002</p>"},{"location":"TOOL/docker/02-docker-commands/#_14","title":"\u5982\u4f55\u751f\u6210\u955c\u50cf","text":"<p>\u4e3b\u8981\u5305\u542b\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u57fa\u4e8e\u6784\u5efa\u6587\u4ef6<code>Dockerfile</code>\u548c <code>docker build</code> \u7684\u81ea\u52a8\u6784\u5efa\uff0c\u4e00\u79cd\u662f\u57fa\u4e8e <code>docker commit</code> \u63d0\u4ea4\u5bf9\u4e8e\u73b0\u6709\u5bb9\u5668\u7684\u4fee\u6539\u4e4b\u540e\u751f\u6210\u955c\u50cf\u3002 Bash<pre><code>docker build [OPTIONS] PATH | URL | -\n</code></pre></p> <p>\u66f4\u591a\u7ec6\u8282\u53ef\u89c1https://docs.docker.com/engine/reference/commandline/build/</p> <p>\u8fd9\u91cc\u7528\u5230\u4e86Dockerfile\uff0c\u8fd9\u4e9b\u53c2\u8003\u8d44\u6599\u4e0d\u9519\uff1a</p> <p>\u4f60\u5fc5\u987b\u77e5\u9053\u7684Dockerfile\uff1ahttps://www.cnblogs.com/edisonchou/p/dockerfile_inside_introduction.html \u5bf9\u4e8e\u5df2\u6709\u7684Dockerfile\u6587\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u6307\u4ee4\u751f\u6210\u955c\u50cf\uff1a</p> <p>Bash<pre><code># \u4f7f\u7528'.'\u76ee\u5f55\u4e0b\u7684Dockerfile\u6587\u4ef6\u3002\u6ce8\u610f\u7ed3\u5c3e\u7684\u8def\u5f84`.`\uff0c\u8fd9\u91cc\u7ed9\u6253\u5305\u7684\u955c\u50cf\u6307\u5b9a\u4e86TAG\n$ docker build -t vieux/apache:2.0 .\n# \u4e5f\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2aTAG\n$ docker build -t whenry/fedora-jboss:latest -t whenry/fedora-jboss:v2.1 .\n# \u4e5f\u53ef\u4ee5\u4e0d\u4f7f\u7528'.'\u76ee\u5f55\u4e0b\u7684Dockerfile\u6587\u4ef6\uff0c\u800c\u662f\u4f7f\u7528-f\u6307\u5b9a\u6587\u4ef6\n$ docker build -f dockerfiles/Dockerfile.debug -t myapp_debug .\n</code></pre> \u6253\u5305\u5b8c\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728 <code>docker images</code> \u4e2d\u770b\u5230\u65b0\u589e\u7684\u955c\u50cf\u4e86\u3002</p> <p>\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u901a\u8fc7<code>docker commit</code> Bash<pre><code>docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]\n</code></pre> \u6bd4\u5982\u8fd9\u6837 Bash<pre><code>$ docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS              NAMES\nc3f279d17e0a        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            desperate_dubinsky\n197387f1b436        ubuntu:12.04        /bin/bash           7 days ago          Up 25 hours                            focused_hamilton\n$ docker commit c3f279d17e0a  svendowideit/testimage:version3\nf5283438590d\n$ docker images\nREPOSITORY                        TAG                 ID                  CREATED             SIZE\nsvendowideit/testimage            version3            f5283438590d        16 seconds ago      335.7 MB\n</code></pre></p>"},{"location":"TOOL/docker/02-docker-commands/#_15","title":"\u5982\u4f55\u5206\u4eab\u955c\u50cf","text":""},{"location":"TOOL/docker/02-docker-commands/#_16","title":"\u4e0a\u4f20\u5230\u5728\u7ebf\u5b58\u50a8\u5e93","text":"<p>\u4e0a\u4f20\u5230Docker Hub\uff1ahttps://docs.docker.com/get-started/part3/ \u4e0a\u4f20\u5230\u963f\u91cc\u4e91\uff1ahttps://blog.csdn.net/xiayto/article/details/104133417/</p>"},{"location":"TOOL/docker/02-docker-commands/#_17","title":"\u672c\u5730\u5bfc\u51fa\u5206\u4eab","text":"<p>\u8fd9\u91cc\u57fa\u4e8e\u6307\u4ee4 <code>docker save</code></p> <p><code>docker save [OPTIONS] IMAGE [IMAGE...]</code> Produces a tarred repository to the standard output stream. Contains all parent layers, and all tags + versions, or specified repo:tag , for each argument provided.</p> <p>\u5177\u4f53\u7684\u4f8b\u5b50\u53ef\u89c1\uff1ahttps://docs.docker.com/engine/reference/commandline/save/#examples</p> <p>Bash<pre><code>$ sudo docker ps -a\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                         PORTS               NAMES\n153999a1dfb2        hello-world             \"/hello\"            2 hours ago         Exited (0) 2 hours ago                             naughty_euler\n$ sudo docker images\nREPOSITORY                                             TAG                 IMAGE ID            CREATED             SIZE\nhello-world                                            latest              bf756fb1ae65        7 months ago        13.3kB\n$ sudo docker save -o hello-world-latest.tar hello-world:latest\n$ ls\nhello-world-latest.tar\n\n$ sudo docker rmi hello-world:latest\nError response from daemon: conflict: unable to remove repository reference \"hello-world:latest\" (must force) - container 153999a1dfb2 is using its referenced image bf756fb1ae65\n$ sudo docker rmi -f hello-world:latest  # \u5f3a\u5236\u5220\u9664\u955c\u50cf\nUntagged: hello-world:latest\nUntagged: hello-world@sha256:49a1c8800c94df04e9658809b006fd8a686cab8028d33cfba2cc049724254202\nDeleted: sha256:bf756fb1ae65adf866bd8c456593cd24beb6a0a061dedf42b26a993176745f6b\n\n$ sudo docker ps -a  # \u8bfe\u4ef6\uff0c\u5f3a\u5236\u5220\u9664\u955c\u50cf\u540e\uff0c\u539f\u59cb\u5173\u8054\u7684\u5bb9\u5668\u5e76\u4e0d\u4f1a\u88ab\u5220\u9664\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                   PORTS               NAMES\n153999a1dfb2        bf756fb1ae65            \"/hello\"            5 hours ago         Exited (0) 5 hours ago                       naughty_euler\n$ sudo docker images\nREPOSITORY                                             TAG                 IMAGE ID            CREATED             SIZE\n\n$ sudo docker load -i hello-world-latest.tar \nLoaded image: hello-world:latest\n\n$ sudo docker images\nREPOSITORY                                             TAG                 IMAGE ID            CREATED             SIZE\nhello-world                                            latest              bf756fb1ae65        7 months ago        13.3kB\n$ sudo docker ps -a  # \u53ef\u89c1\uff0c\u5f53\u91cd\u65b0\u52a0\u8f7d\u5bf9\u5e94\u7684\u955c\u50cf\u65f6\uff0c\u8fd9\u91cc\u7684IMAGE\u53c8\u5bf9\u5e94\u4e86\u56de\u6765\nCONTAINER ID        IMAGE                   COMMAND             CREATED             STATUS                   PORTS               NAMES\n153999a1dfb2        hello-world             \"/hello\"            5 hours ago         Exited (0) 5 hours ago                       naughty_euler\n</code></pre> \u8fd9\u91cc\u4e5f\u6709\u4e2a\u4f8b\u5b50\uff1a</p> <p>docker \u6253\u5305\u672c\u5730\u955c\u50cf\uff0c\u5e76\u5230\u5176\u4ed6\u673a\u5668\u8fdb\u884c\u6062\u590d\uff1ahttps://blog.csdn.net/zf3419/article/details/88533274 \u53c2\u8003\u8d44\u6599 docker\u547d\u4ee4\u884c\u7684\u57fa\u672c\u6307\u4ee4\u90fd\u5728\u8fd9\u91cc\uff1ahttps://docs.docker.com/engine/reference/commandline/docker/ \u5b98\u65b9\u7ed9\u4e86\u4e00\u4e9b\u6307\u5bfc\u6027\u7684\u6587\u6863\uff1ahttps://docs.docker.com/develop/</p>"},{"location":"TOOL/vscode/01-g%2B%2B/","title":"Linux\u4e2d\u7f16\u8bd1C++","text":"<p>\u8fd9\u662f\u4e00\u7bc7\u6280\u672f\u6587\u7ae0\uff0c\u5982\u679c\u4f60\u60f3\u7ee7\u7eed\u9605\u8bfb\uff0c\u5e76\u5e0c\u671b\u4ece\u4e2d\u6709\u6240\u6536\u83b7\uff0c\u4f60\u73b0\u5728\u5e94\u5f53\u5177\u5907\u4ee5\u4e0b\u6280\u80fd\uff1a</p> <ul> <li>C++ \u7f16\u7a0b\u8bed\u8a00\u57fa\u7840</li> <li>Linux \u64cd\u4f5c\u7cfb\u7edf\u57fa\u7840</li> </ul> <p>\u672c\u6587\u76ee\u5f55</p> Text Only<pre><code>1. GCC\u6982\u8ff0\n2. g++\u7f16\u8bd1\u8fc7\u7a0b\n3. g++\u91cd\u8981\u7f16\u8bd1\u53c2\u6570\n   3.1. \u7f16\u8bd1\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6\n   3.2. \u4f18\u5316\u6e90\u4ee3\u7801\n   3.3. \u6307\u5b9a\u5e93\u6587\u4ef6\n   3.4. -I \u6307\u5b9a\u5934\u6587\u4ef6\u641c\u7d22\u76ee\u5f55\n   3.5. -Wall \u6253\u5370\u8b66\u544a\u4fe1\u606f\n   3.6. -w \u5173\u95ed\u8b66\u544a\u4fe1\u606f\n   3.7. \u4f7f\u7528-std \u8bbe\u7f6e\u7f16\u8bd1\u6807\u51c6\n   3.8. -o(\u5c0f\u5199) \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d\n4. \u603b\u7ed3\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#1-gcc","title":"1. GCC\u6982\u8ff0","text":"<p>GCC\uff08GNU Compiler Collection\uff0cGNU\u7f16\u8bd1\u5668\u5957\u4ef6\uff09\u662f\u7531GNU\u5f00\u53d1\u7684\u7f16\u7a0b\u8bed\u8a00\u8bd1\u5668\u3002\u800cGCC\u4e0b\u9762\u6709\u4e24\u4e2a\u6bd4\u8f83\u5e38\u7528\u7684\u5de5\u5177\u5c31\u662fgcc(GUN C Compiler)\u548cg++(GUN C++ Compiler)\uff0c\u5373C\u8bed\u8a00\u7f16\u8bd1\u5668\u548cC++\u7f16\u8bd1\u5668\u3002\u4eba\u4eec\u901a\u5e38\u7528gcc\u7f16\u8bd1\u7eafC\u4ee3\u7801\uff0c\u7528g++\u7f16\u8bd1C++\u4ee3\u7801\u3002\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7528\u76f4\u63a5\u7528g++\u7f16\u8bd1C\u6216\u8005C++\u4ee3\u7801\uff0c\u672c\u6587\u6211\u4eec\u5b66\u4e60\u600e\u6837\u4f7f\u7528g++\u3002 </p> <ul> <li>GCC \u7f16\u8bd1\u5668\u652f\u6301\u7f16\u8bd1 Go\u3001Object-C\u3001Object-C ++\u3001Fortran\u3001Ada\u3001BRIG\uff08HSAIL\uff09\u7b49\u7a0b\u5e8f\uff1b</li> <li>Linux \u5f00\u53d1 C/C++ \u4e00\u5b9a\u8981\u719f\u6089 GCC\uff1b</li> <li>VSCode \u662f\u901a\u8fc7\u8c03\u7528 GCC \u7f16\u8bd1\u5668\u6765\u5b9e\u73b0 C/C++\u7684\u7f16\u8bd1\u5de5\u4f5c\u7684\u3002</li> </ul> <p>\u5f00\u59cb\u4e4b\u524d\uff0c\u5148\u5b89\u88c5<code>g++</code>\u7f16\u8bd1\u5de5\u5177\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code>sudo apt install -y g++\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#2-g","title":"2. g++\u7f16\u8bd1\u8fc7\u7a0b","text":"<p>\u4f7f\u7528 <code>g++</code> \u7f16\u8bd1C++\u6e90\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4 \u5373\u53ef\u5b8c\u6210\u7f16\u8bd1C++\u6e90\u4ee3\u7801\u6587\u4ef6\uff0c\u5e76\u4e14\u76f4\u63a5\u4ea7\u751f\u53ef\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6</p> Bash<pre><code># \u7f16\u8bd1test.cpp \u6587\u4ef6\uff0c\u5728 Linux \u4e0b\uff0c\u9ed8\u8ba4\u4ea7\u751f\u540d\u4e3a a.out \u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\ng++ test.cpp\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u4e0a\u9762\u7684\u4e00\u6b65\u7f16\u8bd1\u6307\u4ee4\u5305\u542b\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u8fc7\u7a0b</p> <p>\u7b2c\u4e00\u6b65\uff1a\u9884\u5904\u7406 Pre-processing\uff0c\u751f\u6210.i \u6587\u4ef6</p> Bash<pre><code># -E \u9009\u9879\u6307\u793a\u7f16\u8bd1\u5668\u4ec5\u5bf9\u8f93\u5165\u6587\u4ef6\u8fdb\u884c\u9884\u7f16\u8bd1\ng++ -E test.cpp -o testr.i\n</code></pre> <p>\u7b2c\u4e8c\u6b65\uff1a\u7f16\u8bd1-Compiling\uff0c\u751f\u6210.s \u6587\u4ef6</p> Bash<pre><code># -S \u7f16\u8bd1\u9009\u9879\u544a\u8bc9 g++ \u5728\u4e3a c++ \u4ee3\u7801\u4ea7\u751f\u4e86\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6\u540e\u505c\u6b62\u7f16\u8bd1\n# g++ \u4ea7\u751f\u7684\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6\u7684\u7f3a\u7701\u6269\u5c55\u540d\u662f .s\ng++ -S test.i -o test.s\n</code></pre> <p>\u7b2c\u4e09\u6b65\uff1a\u6c47\u7f16-Assembing\uff0c\u751f\u6210.o \u6587\u4ef6</p> Bash<pre><code># -c \u9009\u9879\u544a\u8bc9 g++ \u4ec5\u628a\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e3a\u673a\u5668\u8bed\u8a00\u7684\u76ee\u6807\u4ee3\u7801\n# \u7f3a\u7701\u65f6 g++ \u5efa\u7acb\u7684\u76ee\u6807\u4ee3\u7801\u6587\u4ef6\u6709\u4e00\u4e2a .o \u7684\u6269\u5c55\u540d\ng++ -c test.s -o test.o\n</code></pre> <p>\u7b2c\u56db\u6b65\uff1a\u94fe\u63a5-Lingking\uff0c\u751f\u6210 bin \u4e8c\u8fdb\u5236\u6587\u4ef6</p> Bash<pre><code># -o \u7f16\u8bd1\u9009\u9879\u6765\u4e3a\u5c06\u4ea7\u751f\u7684\u53ef\u6267\u884c\u6587\u4ef6\u6307\u5b9a\u6587\u4ef6\u540d\uff0c\u5982\u679c\u4e0d\u4f7f\u7528-o\u53c2\u6570\uff0c\u5728Linux\u4e0b\u9ed8\u8ba4\u8f93\u51fa\u540d\u4e3a a.out \u7684\u53ef\u6267\u884c\u6587\u4ef6\ng++ test.o -o test\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#3-g","title":"3. g++\u91cd\u8981\u7f16\u8bd1\u53c2\u6570","text":""},{"location":"TOOL/vscode/01-g%2B%2B/#31","title":"3.1. \u7f16\u8bd1\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6","text":"<p><code>-g</code> \u9009\u9879\u544a\u8bc9GCC\u4ea7\u751f\u80fd\u88ab GNU\u8c03\u8bd5\u5668(DGB) \u4f7f\u7528\u7684\u8c03\u8bd5\u4fe1\u606f\uff0c\u4ee5\u8c03\u8bd5\u7a0b\u5e8f</p> Bash<pre><code># \u4ea7\u751f\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6test\ng++ -g test.cpp -o test\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#32","title":"3.2. \u4f18\u5316\u6e90\u4ee3\u7801","text":"<p>\u6240\u8c13\u4f18\u5316\uff0c\u662f\u6307\u5982\u7701\u7565\u4ee3\u7801\u4e2d\u4ece\u6765\u672a\u4f7f\u7528\u8fc7\u7684\u53d8\u91cf\u3001\u76f4\u63a5\u5e38\u91cf\u8868\u8fbe\u5f0f\u7528\u7ed3\u679c\u66ff\u4ee3\u7b49\u64cd\u4f5c\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u7f29\u51cf\u76ee\u6807\u6587\u4ef6\u6240\u542b\u7684\u4ee3\u7801\uff0c\u63d0\u9ad8\u6700\u7ec8\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8fd0\u884c\u6548\u7387\u3002</p> <p><code>O</code> \u53c2\u6570\u544a\u8bc9 g++ \u5bf9\u6e90\u4ee3\u7801\u8fdb\u884c\u57fa\u672c\u4f18\u5316\u3002\u8fd9\u4e9b\u4f18\u5316\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u4f7f\u7a0b\u5e8f\u6267\u884c\u5f97\u66f4\u5feb\uff0c\u5e38\u7528\u4f18\u5316\u7ea7\u522b\u5982\u4e0b\uff1a</p> <p><code>-O</code>: \u540c\u65f6\u51cf\u5c11\u4ee3\u7801\u7684\u957f\u5ea6\u548c\u6267\u884c\u65f6\u95f4\uff0c\u5176\u6548\u679c\u7b49\u4ef7\u4e8e <code>-O1</code></p> <p><code>-O0</code>: \u8868\u793a\u4e0d\u505a\u4f18\u5316</p> <p><code>-O1</code>: \u8868\u793a\u9ed8\u8ba4\u4f18\u5316</p> <p><code>-O2</code>: \u544a\u8bc9 g++ \u4ea7\u751f\u5c3d\u53ef\u80fd\u5c0f\u548c\u5c3d\u53ef\u80fd\u5feb\u7684\u4ee3\u7801\u3002\u9664\u4e86\u5b8c\u6210<code>-O1</code> \u7684\u4f18\u5316\u4e4b\u5916\uff0c\u8fd8\u8fdb\u884c\u4e00\u4e9b\u989d\u5916\u7684\u8c03\u6574\u5de5\u4f5c\uff0c\u5982\u6307\u4ee4\u8c03\u6574\u7b49</p> <p><code>-O3</code>: \u5305\u62ec\u5faa\u73af\u5c55\u5f00\u548c\u5176\u4ed6\u4e00\u4e9b\u4e0e\u5904\u7406\u6027\u76f8\u5173\u7684\u4f18\u5316\u5de5\u4f5c\uff0c\u9009\u9879\u5c06\u4f7f\u7f16\u8bd1\u7684\u901f\u5ea6\u6bd4 <code>-O</code> \u6162\uff0c\u4f46\u901a\u5e38\u4ea7\u751f\u7684\u4ee3\u7801\u6267\u884c\u901f\u5ea6\u4f1a\u66f4\u5feb\u3002</p> Bash<pre><code># \u4f7f\u7528 -O2 \u4f18\u5316\u6e90\u4ee3\u7801\uff0c\u5e76\u8f93\u51fa\u53ef\u6267\u884c\u6587\u4ef6\u3002\ng++ -O2 test.cpp\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#321","title":"3.2.1 \u6e90\u4ee3\u7801\u4f18\u5316\u793a\u4f8b","text":"<p>\u521b\u5efa\u4e00\u4e2a\u6548\u7387\u4f4e\u4e0b\u7684\u4ee3\u7801\u6587\u4ef6 <code>src/01_basic/inefficency.cpp</code> \uff0c\u6dfb\u52a0\u4ee5\u4e0bC++\u6e90\u4ee3\u7801</p> C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n    unsigned long int counter;\n    unsigned long int result;\n    unsigned long int temp;\n    unsigned long int five;\n\n    for (counter = 0; counter &lt; 2009 * 2009 * 100 / 4 + 2010 ; counter += (10-6)/4)\n    {\n        temp = counter/1979;\n        for (int i = 0; i &lt; 20; i++)\n        {\n            // \u6bcf\u6b21\u5faa\u73af\u90fd\u4f1a\u8fdb\u884c\u4e00\u6b21\u65e0\u7528\u7684 \u590d\u6742\u7684\u8fd0\u7b97\n            five = 200 * 200 / 8000;\n            result = counter;\n        }\n    }\n\n    cout &lt;&lt; \"result = \" &lt;&lt; result &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre> <p>\u5148\u4f7f\u7528\u76f4\u63a5\u7f16\u8bd1\u7684\u65b9\u5f0f\u751f\u6210<code>without_o.out</code>\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code># \u4ee3\u7801\u65e0\u4f18\u5316\ng++ inefficency.cpp -o without_o.out\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u518d\u4f7f\u7528\u4f18\u5316\u540e\u7684\u7f16\u8bd1\u65b9\u5f0f\uff0c\u751f\u6210<code>with_o.out</code>\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code># \u4f7f\u7528-O2\u7ea7\u522b\u7684\u4ee3\u7801\u4f18\u5316\ng++ inefficency.cpp -O2 -o with_o.out\n</code></pre> <p>\u540e\u6267\u884c\u4e24\u79cd\u65b9\u5f0f\u7f16\u8bd1\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u8ba1\u7b97\u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7b49\u5f85\u65f6\u95f4\u77e5\u9053 \u6ca1\u6709\u7f16\u8bd1\u4f18\u5316\u7684 <code>without_o.out</code> \u6267\u884c\u65f6\u95f4\u660e\u663e\u5927\u4e8e <code>with_o.out</code>\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>time</code> \u547d\u4ee4\u8ba1\u7b97\u6267\u884c\u7a0b\u5e8f\u6240\u9700\u7684\u65f6\u95f4\uff0c\u53ef\u4ee5\u770b\u5230\u660e\u663e\u7684\u65f6\u95f4\u533a\u522b\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u603b\u7ed3\uff1a\u52a0\u4e0a -O \u4f18\u5316\u53c2\u6570\u540e\uff08\u6211\u4eec\u4e00\u822c\u4f7f\u7528 -O2\uff09\uff0c\u7f16\u8bd1\u5668\u4f1a\u5e2e\u6211\u4eec\u4f18\u5316\u4f4e\u6548\u7387\u7684\u4ee3\u7801\u3002\u4ece\u800c\u63d0\u9ad8\u6700\u7ec8\u7a0b\u5e8f\u7684\u6267\u884c\u6548\u7387\u3002</p>"},{"location":"TOOL/vscode/01-g%2B%2B/#33","title":"3.3. \u6307\u5b9a\u5e93\u6587\u4ef6","text":"<p>\u5728 g++ \u5de5\u5177\u4e2d\uff0c <code>-l</code> \u6216\u8005 <code>-L</code> \u6307\u5b9a\u5e93\u6587\u4ef6\uff0c|(\u5927\u5199i) \u6307\u5b9a\u5e93\u6587\u4ef6\u8def\u5f84</p> <p>-l \u53c2\u6570\uff08\u5c0f\u5199L\uff09\u5c31\u662f\u7528\u6765\u6307\u5b9a\u7a0b\u5e8f\u8981\u94fe\u63a5\u7684\u5e93\uff0c-l \u53c2\u6570\u7d27\u63a5\u7740\u5c31\u662f\u5e93\u540d\uff0c\u5728<code>/lib</code>\u3001<code>/usr/lib</code>\u3001<code>/usr/local/lib</code>\u91cc\u7684\u5e93\u76f4\u63a5\u8c03\u7528 -l \u53c2\u6570\u5c31\u80fd\u94fe\u63a5\uff0c\u8fd9\u4e09\u4e2a\u5e93\u76ee\u5f55\u6211\u4eec\u5728\u4e0b\u6587\u4e2d\u53eb\u505a\u7cfb\u7edf\u5e93\u76ee\u5f55</p> Bash<pre><code># \u94fe\u63a5 glog\u5e93 \u7f16\u8bd1\ng++ -lglog test.cpp\n</code></pre> <p>\u5982\u679c\u5e93\u6587\u4ef6\u6ca1\u6709\u653e\u5728\u7cfb\u7edf\u5e93\u76ee\u5f55\u4e2d\uff0c\u9700\u8981\u4f7f\u7528-L \u53c2\u6570\uff08\u5927\u5199l\uff09\u6307\u5b9a\u5e93\u6587\u4ef6\u6240\u5728\u76ee\u5f55\uff0c-L \u53c2\u6570\u8ddf\u7740\u7684\u662f\u5e93\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u540d</p> Bash<pre><code># \u94fe\u63a5 mytest\u5e93\u3002libmytest.so \u5728 ~/lib\u76ee\u5f55\u4e0b\ng++ -L~/lib -lmytest test.cpp\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#34-i","title":"3.4. <code>-I</code> \u6307\u5b9a\u5934\u6587\u4ef6\u641c\u7d22\u76ee\u5f55","text":"<p><code>/usr/include</code> \u4e00\u822c\u4e0d\u7528\u6307\u5b9a\uff0cgcc \u77e5\u9053\u53bb\u90a3\u91cc\u627e\uff0c\u4f46\u662f\u5982\u679c\u5934\u6587\u4ef6\u4e0d\u5728 <code>/usr/include</code> \u91cc\u6211\u4eec\u5c31\u8981\u7528 <code>-I</code> \u53c2\u6570\u6307\u5b9a\u4e86\uff0c\u6bd4\u5982\u5934\u6587\u4ef6\u653e\u5728 <code>/myinclude</code>\u76ee\u5f55\u91cc\uff0c\u90a3\u7f16\u8bd1\u547d\u4ee4\u884c\u5c31\u8981\u52a0\u4e0a <code>-I/myinclude</code> \u53c2\u6570\uff0c\u5982\u679c\u4e0d\u52a0\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a <code>xxx.h: No such file or directory</code> \u7684\u9519\u8bef\u3002<code>-I</code> \u53c2\u6570\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u3002</p> Bash<pre><code># \u7f16\u8bd1\u4ee3\u7801\u65f6\uff0c\u6307\u5b9a\u5f53\u524d\u76ee\u5f55\u4e0b\u7684myinclude\u76ee\u5f55\u4f5c\u4e3a\u5934\u6587\u4ef6\u76ee\u5f55\ng++ -I/myinclde test.cpp\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#35-wall","title":"3.5. <code>-Wall</code> \u6253\u5370\u8b66\u544a\u4fe1\u606f","text":"Bash<pre><code>\u6253\u5370\u51fagcc\u63d0\u4f9b\u7684\u8b66\u544a\u4fe1\u606f\ng++ -Wall test.cpp\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#36-w","title":"3.6. <code>-w</code> \u5173\u95ed\u8b66\u544a\u4fe1\u606f","text":"<p>\u5728\u4f7f\u7528\u9ad8\u7248\u672c\u7684C++\u6807\u51c6\u8fdb\u884c\u7f16\u8bd1\u7684\u65f6\u5019\uff0c\u4ee3\u7801\u5199\u7684\u4e0d\u89c4\u8303\u7684\u65f6\u5019\uff0c\u6bd4\u5982\u5b9a\u4e49\u53d8\u91cf\u4f46\u662f\u4e0d\u4f7f\u7528\uff0cg++\u5c06\u4f1a\u63d0\u793a\u5bf9\u5e94\u7684\u8b66\u544a\u4fe1\u606f\u3002\u4f46\u53ef\u4ee5\u4f7f\u7528<code>-w</code>\u5173\u95ed\u8fd9\u4e9b\u8b66\u544a</p> Bash<pre><code># \u5173\u95ed\u6240\u6709\u8b66\u544a\u4fe1\u606f\ng++ -w test.cpp\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#37-std","title":"3.7. \u4f7f\u7528<code>-std</code>\u8bbe\u7f6e\u7f16\u8bd1\u6807\u51c6","text":"Bash<pre><code># \u4f7f\u7528 c++11 \u6807\u51c6\u7f16\u8bd1 test.cpp\ng++ -std=c++11 test.cpp\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#38-o","title":"3.8. <code>-o</code>(\u5c0f\u5199) \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d","text":"Bash<pre><code># \u6307\u5b9a\u5373\u5c06\u4ea7\u751f\u7684\u6587\u4ef6\u540d\u4e3a test\ng++ test.cpp -o test\n</code></pre>"},{"location":"TOOL/vscode/01-g%2B%2B/#39-d","title":"3.9. <code>-D</code> \u5b9a\u4e49\u5b8f","text":"<p>\u4e3a\u4e86\u6f14\u793a\u5b8f\u7684\u4f5c\u7528\uff0c\u521b\u5efa\u6e90\u7801\u6587\u4ef6 <code>gcc_02_test/test.cpp</code> \uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0bC++\u6e90\u4ee3\u7801</p> C++<pre><code>#include &lt;stdio.h&gt;\n\nint main()\n{\n    // \u6839\u636e\u662f\u5426\u5b58\u5728 DEBUG \u8fdb\u884c\u903b\u8f91\u5904\u7406\n    #ifdef DEBUG\n        printf(\"DEBUG LOG\\n\");\n    #endif\n        printf(\"in\\n\");\n    return 0;\n}\n</code></pre> <p>\u4f7f\u7528 <code>g++ -DDEBUG test.cpp</code> \u7f16\u8bd1\u7684\u540c\u65f6\u5b9a\u4e49<code>DEBUG</code>\u5b8f\uff0c\u6267\u884c\u7f16\u8bd1\u540e\u7684\u53ef\u6267\u884c\u6587\u4ef6\u53ef\u4ee5\u770b\u5230 \"DEBUG LOG\" \u88ab\u8f93\u51fa\u3002\u539f\u56e0\u662f\u6211\u4eec\u4f7f\u7528<code>-DDEBUG</code> \u53c2\u6570\u5b9a\u4e49 <code>DEBUG</code> \u5b8f\uff0c\u5728\u6267\u884c\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u7a0b\u5e8f\u68c0\u6d4b\u5230\u4e86 <code>DEBUG</code> \u5b8f\u7684\u5b58\u5728\uff0c\u5e76\u6267\u884c\u4e86\u5bf9\u5e94\u7684\u903b\u8f91\u3002</p>"},{"location":"TOOL/vscode/01-g%2B%2B/#4","title":"4. \u603b\u7ed3","text":"<p>\u5728\u672c\u8282\u8bfe\uff0c\u6211\u4eec\u638c\u63e1\u4e86\u4ee5\u4e0b\u77e5\u8bc6\uff1a</p> <ul> <li>GCC \u7684\u6982\u5ff5\uff1aGNU\u7f16\u8bd1\u5957\u4ef6</li> <li>g++ \u7684\u7f16\u8bd1\u8fc7\u7a0b</li> <li>g++ \u7684\u7f16\u8bd1\u7684\u5e38\u7528\u53c2\u6570</li> </ul>"},{"location":"TOOL/vscode/02-compile/","title":"Linux C++\u547d\u4ee4\u884c\u7f16\u8bd1","text":"<p>\u6b64\u6587\u6863\u662f\u5728Linux\u4e0bC/C++\u5f00\u53d1\u7684g++\u7f16\u8bd1\u793a\u4f8b\uff0c\u5982\u679c\u7ee7\u7eed\u9605\u8bfb\u6b64\u6587\uff0c\u5e76\u5e0c\u671b\u6709\u6240\u6536\u83b7\uff0c\u4f60\u5e94\u5f53\u5177\u5907\u4ee5\u4e0b\u6280\u80fd</p> <ul> <li>C++\u7f16\u7a0b\u8bed\u8a00\u57fa\u7840</li> <li>Linux\u7cfb\u7edf\u64cd\u4f5c\u57fa\u7840</li> </ul> <p>\u6587\u7ae0\u76ee\u5f55</p> Text Only<pre><code>1. \u51c6\u5907\u6e90\u4ee3\u7801\n2. \u7f16\u8bd1\u5b9e\u6218\n   2.1. \u5f15\u5165\u76ee\u5f55\u8fdb\u884c\u7f16\u8bd1\n   2.2. \u4f7f\u7528-Wall\u3001-std \u53c2\u6570\u8fdb\u884c\u7f16\u8bd1\n   2.1.3. \u751f\u6210\u5e93\u6587\u4ef6\n       \u94fe\u63a5\u9759\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\n       \u94fe\u63a5\u52a8\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\n       \u9759\u6001\u5e93\u548c\u52a8\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u7684\u533a\u522b\n</code></pre> <p>\u8fd9\u662f\u8fd9\u4e2a\u7cfb\u5217\u7684\u7b2c2\u7bc7\u6587\u7ae0\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u94fe\u63a5\u9605\u8bfb\u7b2c\u4e00\u7bc7</p> <p>1. Linux\u4e2d\u7f16\u8bd1C++\u4ee3\u7801\u7684g++\u5de5\u5177\uff0c\u4ee5\u53cag++\u7684\u5e38\u7528\u64cd\u4f5c\u6307\u4ee4</p>"},{"location":"TOOL/vscode/02-compile/#1","title":"1. \u51c6\u5907\u6e90\u4ee3\u7801","text":"<p>\u5728\u4e00\u4e2a\u5de5\u4f5c\u76ee\u5f55\u4e2d\u521b\u5efa\u4ee5\u4e0b\u4ee3\u7801\u6587\u4ef6\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\u56fe</p> <p></p> <p>\u4ee3\u7801\u5185\u5bb9\u5982\u4e0b\uff1a</p> <p><code>swap.h</code>\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6e90\u7801\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86C++\u5934\u90e8\u4fe1\u606f</p> C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n</code></pre> <p><code>swap.cpp</code>\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86\u6211\u4eec\u5c06\u5728\u4e3b\u51fd\u6570\u4e2d\u8c03\u7528\u7684C++\u4ee3\u7801</p> C++<pre><code>#include \"swap.h\"\n\nvoid swap(int &amp;a, int &amp;b)\n{\n    int temp;\n    temp = a;\n    a = b;\n    b = temp;\n}\n</code></pre> <p><code>main.cpp</code>\u6587\u4ef6\uff0c\u8fd9\u662f\u4e3b\u51fd\u6570\u6587\u4ef6\uff0c\u51fd\u6570\u8c03\u7528\u7684\u5165\u53e3</p> C++<pre><code>#include &lt;iostream&gt;\n#include \"swap.h\"\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n    int val1 = 10;\n    int val2 = 20;\n\n    cout &lt;&lt; \" Before swap:\" &lt;&lt; endl;\n    cout &lt;&lt; \" val1:\" &lt;&lt; val1 &lt;&lt; endl;\n    cout &lt;&lt; \" val2:\" &lt;&lt; val2 &lt;&lt; endl;\n\n    swap(val1, val2);\n\n    cout &lt;&lt; \" After swap:\" &lt;&lt; endl;\n    cout &lt;&lt; \" val1:\" &lt;&lt; val1 &lt;&lt; endl;\n    cout &lt;&lt; \" val2:\" &lt;&lt; val2 &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>"},{"location":"TOOL/vscode/02-compile/#2","title":"2. \u7f16\u8bd1\u5b9e\u6218","text":""},{"location":"TOOL/vscode/02-compile/#21","title":"2.1. \u5f15\u5165\u76ee\u5f55\u8fdb\u884c\u7f16\u8bd1","text":"<p>\u76f4\u63a5\u7f16\u8bd1</p> Bash<pre><code>g++ main.cpp src/swap.cpp\n</code></pre> <p>\u6b64\u65f6\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u7684\u9519\u8bef</p> <p></p> <p>\u8fd9\u662f\u56e0\u4e3a g++ \u627e\u4e0d\u5230<code>include</code>\u76ee\u5f55\u4e0b\u7684<code>swap.h</code> \u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4f7f\u7528<code>-I</code>\u53c2\u6570\u5c06<code>include</code>\u76ee\u5f55\u5305\u542b\u8fdb\u6765\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code>g++ main.cpp src/swap.cpp -Iinclude\n</code></pre> <p>\u8fd9\u65f6\u5019\u4ee3\u7801\u5c31\u53ef\u4ee5\u987a\u4fbf\u901a\u8fc7\u7f16\u8bd1\u4e86\u3002</p>"},{"location":"TOOL/vscode/02-compile/#22-wall-std","title":"2.2. \u4f7f\u7528-Wall\u3001-std \u53c2\u6570\u8fdb\u884c\u7f16\u8bd1","text":"<p><code>-Wall</code> \u4ee3\u8868\u7a0b\u5e8f\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u8f93\u51fa\u8b66\u544a\u4fe1\u606f\uff0c<code>-std</code>\u4ee3\u8868\u4f7f\u7528\u7279\u5b9a\u7684 c++\u6807\u51c6 \u8fdb\u884c\u7f16\u8bd1\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code># \u4f7f\u7528c++11\u6807\u51c6\u8fdb\u884c\u7f16\u8bd1\uff0c\u5e76\u4e14\u4f7f\u7528-Wall\u53c2\u6570\ng++ main.cpp src/swap.cpp -Iinclude -Wall -std=c++11 -o a.out\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u770b\u5230\uff0c\u8fd8\u662f\u80fd\u6b63\u5e38\u7f16\u8bd1\uff0c\u4e5f\u6ca1\u6709\u8f93\u51fa\u8b66\u544a\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u6b63\u5e38\u6267\u884c<code>a.out</code>\u3002\u56e0\u4e3a\u6211\u4eec\u7684\u4ee3\u7801\u662f\u7b26\u5408<code>c++11</code>\u6807\u51c6\u7684\uff0c\u4e3a\u4e86\u6f14\u793a\u4e00\u4e2a\u8b66\u544a\uff0c\u6211\u4eec\u5728<code>main.cpp</code>\u4e2d\u52a0\u4e00\u884c\u4ee3\u7801\u3002\u5982\u4e0b</p> C++<pre><code>#include &lt;iostream&gt;\n#include \"swap.h\"\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n    int val1 = 10;\n    int val2 = 20;\n    // \u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u4f46\u662f\u4e0d\u4f7f\u7528\n    double d = 0.0;\n\n    cout &lt;&lt; \" Before swap:\" &lt;&lt; endl;\n    cout &lt;&lt; \" val1:\" &lt;&lt; val1 &lt;&lt; endl;\n    cout &lt;&lt; \" val2:\" &lt;&lt; val2 &lt;&lt; endl;\n\n    swap(val1, val2);\n\n    cout &lt;&lt; \" After swap:\" &lt;&lt; endl;\n    cout &lt;&lt; \" val1:\" &lt;&lt; val1 &lt;&lt; endl;\n    cout &lt;&lt; \" val2:\" &lt;&lt; val2 &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre> <p>\u628a\u8f93\u51fa\u6587\u4ef6\u6539\u4e3a<code>b.out</code>\uff0c\u518d\u6b21\u6267\u884c\u7f16\u8bd1\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code>g++ main.cpp src/swap.cpp -Iinclude -Wall -std=c++11 -o b.out\n</code></pre> <p>\u6b64\u65f6\u51fa\u73b0\u5982\u4e0b\u56fe\u8b66\u544a</p> <p></p> <p>\u56e0\u4e3a\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u4e0d\u4f7f\u7528\uff0c\u662f\u4e0d\u7b26\u5408<code>c++11</code>\u7684\u6807\u51c6\u7684\uff0c\u4f46\u4e0d\u662f\u9519\u8bef\uff0c<code>b.out</code>\u4e5f\u80fd\u6b63\u5e38\u6267\u884c\u3002</p>"},{"location":"TOOL/vscode/02-compile/#23","title":"2.3. \u751f\u6210\u5e93\u6587\u4ef6","text":"<p>\u6211\u4eec\u5148\u5220\u9664\u5728 2 \u4e2d\u4f1a\u8fdb\u884c\u8b66\u544a\u7684\u4ee3\u7801</p>"},{"location":"TOOL/vscode/02-compile/#231","title":"2.3.1. \u94fe\u63a5\u9759\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6","text":"Bash<pre><code># \u5148\u8fdb\u5165src\u76ee\u5f55\ncd  src\n# \u6c47\u7f16\u751f\u6210swap.o \u6587\u4ef6\ng++ swap.cpp -c -I../include\n# \u751f\u6210\u9759\u6001\u5e93libSwap.o\nar rs libswap.a swap.o\n# \u56de\u5230\u4ee3\u7801\u6839\u76ee\u5f55\uff0c\u8c03\u7528\u9759\u6001\u94fe\u63a5\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\ng++ main.cpp -lswap -Lsrc -Iinclude -o static_main\n</code></pre>"},{"location":"TOOL/vscode/02-compile/#232","title":"2.3.2. \u94fe\u63a5\u52a8\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6","text":"Bash<pre><code># \u8fdb\u5165src\u76ee\u5f55\ncd  src\n# \u751f\u6210\u52a8\u6001\u94fe\u5e93\u6587\u4ef6libswap.so\ng++ swap.cpp -I../include -fPIC -shared -o libswap.so\n# \u4e0a\u9762\u7684\u6307\u4ee4\u7b49\u4ef7\u4e8e\u4e0b\u9762\u4e24\u6761\u6307\u4ee4\n# gcc swap -I../include -c -fPIC\n# gcc -shared -o libswap.so swap.o\n\n# \u56de\u5230\u4e0a\u7ea7\u76ee\u5f55\ncd ..\n# \u94fe\u63a5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6 dyna_main\ng++ main.cpp -Iinclude -lswap -Lsrc -o dyna_main\n</code></pre>"},{"location":"TOOL/vscode/02-compile/#233","title":"2.3.3. \u9759\u6001\u5e93\u548c\u52a8\u6001\u5e93\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u7684\u533a\u522b","text":"<ul> <li>\u9759\u6001\u5e93\u5728\u6253\u5305\u751f\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u76f4\u63a5\u5c06\u9759\u6001\u5e93\u5305\u542b\u8fdb\u6765</li> <li>\u52a8\u6001\u5e93\u5219\u5728\u6253\u5305\u65f6\u4e0d\u6253\u5305\u5e93\u6587\u4ef6\uff0c\u800c\u5728\u8fd0\u884c\u65f6\u518d\u628a\u52a8\u6001\u5e93\u6587\u4ef6\u5f15\u8fdb\u6765</li> </ul> <p>\u6240\u4ee5\u6211\u4eec\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u9759\u6001\u5e93\u6587\u4ef6\u6253\u5305\u7684\u53ef\u6267\u884c\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u3002\u800c\u7528\u52a8\u6001\u5e93\u7f16\u8bd1\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u76f4\u63a5\u8fd0\u884c\u4f1a\u62a5\u9519\uff0c\u662f\u56e0\u4e3a\u52a8\u6001\u94fe\u63a5\u6587\u4ef6\u5728\u6211\u4eec\u7684\u4ee3\u7801\u76ee\u5f55\uff0c\u5e76\u4e0d\u5728\u7cfb\u7edf\u7684\u5e93\u641c\u7d22\u76ee\u5f55\u3002\u5982\u679c\u8981\u8fd0\u884c\u52a8\u6001\u94fe\u63a5\u5e93\u6253\u5305\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u6307\u5b9a\u7a0b\u5e8f\u8fd0\u884c\u4f9d\u8d56\u7684\u5e93\u76ee\u5f55\u3002</p> <p>\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\u547d\u4ee4\u5982\u4e0b\uff1a</p> <p>\u8fd0\u884c\u9759\u6001\u6253\u5305\u7684\u53ef\u6267\u884c\u6587\u4ef6</p> Bash<pre><code># \u8fd0\u884c\u9759\u6001\u6253\u5305\u7684\u53ef\u6267\u884c\u6587\u4ef6\n./static_main\n</code></pre> <p>\u8fd0\u884c\u52a8\u6001\u94fe\u63a5\u5e93\u6253\u5305\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6</p> Bash<pre><code># \u8fd0\u884c\u52a8\u6001\u6253\u5305\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u9700\u8981\u8bbe\u7f6e LD_LIBRARY_PATH \u53d8\u91cf\uff0c\u53d8\u91cf\u503c\u662f\u52a8\u6001\u94fe\u63a5\u6587\u4ef6\u6240\u5728\u76ee\u5f55\nLD_LIBRARY_PATH=src ./dyna_main\n</code></pre>"},{"location":"TOOL/vscode/03-dbg/","title":"GDB\u8c03\u8bd5\u5668","text":""},{"location":"TOOL/vscode/03-dbg/#1","title":"1. \u6982\u8ff0","text":"<ul> <li> <p>GDB(GNU Debugger) \u662f\u4e00\u4e2a\u7528\u6765\u8c03\u8bd5 C/C++ \u7a0b\u5e8f\u7684\u529f\u80fd\u7684\u8c03\u8bd5\u5668\uff0c\u662fLinux\u7cfb\u7edf\u5f00\u53d1C/C++\u6700\u5e38\u7528\u7684\u8c03\u8bd5\u5668</p> </li> <li> <p>\u7a0b\u5e8f\u5458\u53ef\u4ee5\u4f7f\u7528GDB\u6765\u8ddf\u8e2a\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef\uff0c\u4ece\u800c\u51cf\u5c11\u7a0b\u5e8f\u5458\u7684\u5de5\u4f5c\u91cf</p> </li> <li> <p>Linux\u5f00\u53d1C/C++\u4e00\u5b9a\u8981\u719f\u6089GDB</p> </li> <li> <p>VScode\u662f\u901a\u8fc7\u8c03\u7528GDB\u8c03\u8bd5\u5668\u6765\u5b9e\u73b0\u5de5\u4f5c\u7684</p> </li> </ul> <p>Windows\u4e2d\uff0c\u5e38\u7528\u7684\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff0c\u5982VS\uff0cVC\u7b49\u5df2\u7ecf\u5185\u5d4c\u4e86\u76f8\u5e94\u7684\u8c03\u8bd5\u5668</p> <p>GDB\u7684\u4e3b\u8981\u529f\u80fd\uff1a</p> <ul> <li>\u8bbe\u7f6e\u65ad\u70b9\uff08\u65ad\u70b9\u53ef\u4ee5\u662f\u6761\u4ef6\u8868\u8fbe\u5f0f\uff09</li> <li>\u4f7f\u7a0b\u5e8f\u5728\u6307\u5b9a\u7684\u4ee3\u7801\u4e0a\u6682\u505c\u6267\u884c\uff0c\u4fbf\u4e8e\u89c2\u5bdf</li> <li>\u5355\u6b65\u6267\u884c\u7a0b\u5e8f\uff0c\u4fbf\u4e8e\u8c03\u8bd5</li> <li>\u67e5\u770b\u7a0b\u5e8f\u4e2d\u53d8\u91cf\u503c\u7684\u53d8\u5316</li> <li>\u52a8\u6001\u6539\u53d8\u7a0b\u5e8f\u7684\u6267\u884c\u73af\u5883</li> <li>\u5206\u6790\u5d29\u6e83\u7a0b\u5e8f\u4ea7\u751f\u7684core\u6587\u4ef6</li> </ul>"},{"location":"TOOL/vscode/03-dbg/#2","title":"2. \u5e38\u7528\u8c03\u8bd5\u547d\u4ee4\u53c2\u6570","text":"<p>\u8c03\u8bd5\u5f00\u59cb\uff1a\u6267\u884c<code>gdb [exefilename]</code>\uff0c\u8fdb\u5165gdb\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u5176\u4e2d<code>exfilename</code>\u4e3a\u8981\u8c03\u8bd5\u7684\u6267\u884c\u6587\u4ef6\u540d\uff0c\u4ee5\u4e0b\u547d\u4ee4\u540e\u62ec\u53f7\u5185\u4e3a\u547d\u4ee4\u7684\u7b80\u5316\u4f7f\u7528\uff0c\u6bd4\u5982 <code>run(r)</code>\uff0c\u76f4\u63a5\u8f93\u5165\u547d\u4ee4 <code>r</code> \u5c31\u4ee3\u8868\u547d\u4ee4 <code>run</code></p> Bash<pre><code>help(h) #\u67e5\u770b\u547d\u4ee4\u5e2e\u52a9\uff0c\u5177\u4f53\u547d\u4ee4\u67e5\u8be2\u5728gdb \u4e2d\u8f93\u5165help + \u547d\u4ee4\nrun(r) #\u91cd\u65b0\u5f00\u59cb\u8fd0\u884c\u6587\u4ef6\uff08run-text:\u52a0\u8f7d\u6587\u672c\u6587\u4ef6\uff0crun-bin:\u52a0\u8f7d\u4e8c\u8fdb\u5236\u6587\u4ef6\uff09\nstart(s) #\u5355\u6b65\u6267\u884c\uff0c\u8fd0\u884c\u7a0b\u5e8f\uff0c\u505c\u5728\u7b2c\u4e00\u884c\u6267\u884c\u8bed\u53e5\nlist(l) #\u67e5\u770b\u6e90\u4ee3\u7801\uff08list-n\u4ece\u7b2cn\u884c\u5f00\u59cb\u67e5\u770b\u4ee3\u7801\u3002list+\u51fd\u6570\u540d\uff1a\u67e5\u770b\u5177\u4f53\u51fd\u6570\uff09\nset #\u8bbe\u7f6e\u53d8\u91cf\u7684\u503c\nnext(n) #\u5355\u6b65\u8c03\u8bd5\uff08\u9010\u8fc7\u7a0b\uff0c\u51fd\u6570\u76f4\u63a5\u6267\u884c\uff09\nstep(s) #\u5355\u6b65\u8c03\u8bd5\uff08\u9010\u8bed\u53e5\uff0c\u8df3\u5165\u81ea\u5b9a\u4e49\u51fd\u6570\u5185\u90e8\u6267\u884c\uff09\nbacktrace(bt) #\u67e5\u770b\u51fd\u6570\u7684\u8c03\u7528\u6808\u5e27\u548c\u5c42\u7ea7\u5173\u7cfb\nframe(f) #\u5207\u6362\u51fd\u6570\u7684\u6808\u5e27\ninfo(i) #\u67e5\u770b\u51fd\u6570\u5185\u90e8\u5c40\u90e8\u53d8\u91cf\u7684\u6570\u503c\nfinish #\u7ed3\u675f\u5f53\u524d\u51fd\u6570\uff0c\u8fd4\u56de\u5230\u51fd\u6570\u8c03\u7528\u70b9\ncontinue(c) #\u7ee7\u7eed\u6267\u884c\nprint(p) #\u6253\u5370\u503c\u53ca\u5730\u5740\nquit(q) #\u9000\u51fagdb\nbreak + num(b) #\u5728\u67d0\u884c\u8fbe\u65ad\u70b9\ninfo + breakpoints #\u67e5\u770b\u5f53\u524d\u8bbe\u7f6e\u7684\u6240\u6709\u65ad\u70b9\ndelete + breakpoints num(d) #\u5220\u9664\u7b2cnum\u4e2a\u65ad\u70b9\ndisplay #\u8ddf\u8e2a\u67e5\u770b\u5177\u4f53\u7684\u53d8\u91cf\u503c\nundisplay #\u53d6\u6d88\u8ddf\u8e2a\u89c2\u5bdf\u53d8\u91cf\nwatch #\u88ab\u8bbe\u7f6e\u89c2\u5bdf\u70b9\u7684\u53d8\u91cf\u53d1\u751f\u4fee\u6539\u65f6\uff0c\u6253\u5370\u663e\u793a\ni watch #\u663e\u793a\u89c2\u5bdf\u70b9\nenable breakpoints #\u542f\u7528\u65ad\u70b9\ndisable breakpoints #\u7981\u7528\u65ad\u70b9\nx #\u67e5\u770b\u5185\u5b58x/20xw \u663e\u793a20\u4e2a\u5355\u5143\uff0c16\u8fdb\u5236\uff0c4\u4e2a\u5b57\u8282\u6ca1\u5355\u5143\nrun argv[1] argv[2] #\u8c03\u8bd5\u547d\u4ee4\u4f20\u53c2\nset follow-fork-mode child #Makefile\u9879\u76ee\u7ba1\u7406\uff0c\u9009\u62e9\u8ddf\u8e2a\u7236\u5b50\u8fdb\u7a0b\uff08fork\uff09\n</code></pre> <ol> <li>\u7f16\u8bd1\u6e90\u4ee3\u7801\u65f6\u9700\u8981\u52a0\u4e0a <code>-g</code> \uff0c\u4ea7\u751f\u7684\u53ef\u6267\u884c\u6587\u4ef6\u624d\u80fd\u7528 <code>gdb</code> \u8fdb\u884c\u8c03\u8bd5\uff0c\u4f8b\u5982\uff1a<code>gcc -g main.cpp -o main</code></li> <li>\u56de\u8f66\u952e\uff1a\u91cd\u590d\u4e0a\u4e00\u6761\u547d\u4ee4</li> </ol>"},{"location":"TOOL/vscode/04-debug/","title":"Linux C++\u547d\u4ee4\u884c\u8c03\u8bd5","text":""},{"location":"TOOL/vscode/04-debug/#1","title":"1. \u51c6\u5907\u4ee3\u7801","text":"<p>\u521b\u5efa\u4e00\u4e2aC++\u6e90\u4ee3\u7801\u6587\u4ef6 <code>src/04_debug/sum.cpp</code>\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801</p> C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n    int N = 100;\n    int sum = 0;\n    int i = 1;\n\n    while(i &lt;= N){\n        sum = sum + i;\n        i = i + 1;\n    }\n\n    cout &lt;&lt; \"sum = \" &lt;&lt; sum &lt;&lt;endl;\n    cout &lt;&lt; \"The program is over \" &lt;&lt;endl;\n\n    return 0;\n}\n</code></pre>"},{"location":"TOOL/vscode/04-debug/#2","title":"2. \u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f","text":"<p>\u5728\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f\u4e4b\u524d\uff0c\u5148\u7f16\u8bd1\u6e90\u4ee3\u7801\uff0c\u5982\u4e0b\u8fc7\u7a0b\u3002</p> <p>\u666e\u901a\u7f16\u8bd1\u65b9\u5f0f</p> Bash<pre><code>g++ sum.cpp -o no_g.out\n</code></pre> <p>\u7f16\u8bd1\u51fa\u7528\u4e8e\u8c03\u8bd5\u7684\u53ef\u6267\u884c\u6587\u4ef6</p> Bash<pre><code>g++ -g sum.cpp -o yes_g.out\n</code></pre> <p>\u4f7f\u7528<code>gdb</code>\u547d\u4ee4\u8fdb\u884c\u8c03\u8bd5\uff0c\u5982\u679c\u6211\u4eec\u8c03\u8bd5 <code>no_g.out</code> \uff0c\u5c06\u4f1a\u63d0\u793a\u4e00\u4e0b\u56fe\u9519\u8bef</p> <p></p> <p>\u56e0\u4e3a<code>no_g.out</code>\u8fd9\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u4e0d\u5305\u542b\u7528\u4e8e\u8c03\u8bd5\u7684\u4fe1\u606f\uff0c\u8f93\u5165<code>quit</code>\u518d\u6309\u56de\u8f66\u5373\u53ef\uff0c\u901a\u8fc7<code>gdb yes_g.out</code>\u6307\u4ee4\u6267\u884c\u5305\u542b\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa</p> <p></p> <p>\u6b64\u65f6\u53ef\u4ee5\u6b63\u5e38\u8fdb\u5165\u8c03\u8bd5</p>"},{"location":"TOOL/vscode/04-debug/#3","title":"3. \u8c03\u8bd5\u8fc7\u7a0b","text":"<p>\u76f4\u63a5\u6267\u884c</p> Bash<pre><code>run\n</code></pre> <p>\u6216\u8005\u4f7f\u7528\u7b80\u5199<code>r</code>\uff0c\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\u56fe</p> <p></p> <p>\u5728\u7b2c11\u884c\u6253\u65ad\u70b9</p> Bash<pre><code>break 11\n</code></pre> <p>\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\u56fe</p> <p></p> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7b80\u5199\u7684\u65b9\u5f0f\uff0c\u5728\u7b2c12\u884c\u6253\u65ad\u70b9</p> Bash<pre><code>b 12\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b\u56fe</p> <p></p> <p>\u4f7f\u7528<code>info break</code>\u6307\u4ee4\u6216\u8005\u6307\u4ee4\u7b80\u5199<code>i b</code>\u67e5\u770b\u5f53\u524d\u7684\u65ad\u70b9\uff0c\u5982\u4e0b\u56fe\u7ed3\u679c</p> <p></p> <p>\u4f7f\u7528<code>run</code>\u6307\u4ee4\u6216\u8005<code>r</code>\u6307\u4ee4\u6267\u884c\u7a0b\u5e8f\uff0c\u6b64\u65f6\u547d\u4e2d\u4e86\u7b2c11\u884c\u65ad\u70b9\uff0c\u5982\u4e0b\u56fe\u5185\u5bb9</p> <p></p> <p>\u6b64\u65f6\u53ef\u4ee5\u67e5\u770b\u53d8\u91cf\u7684\u503c\uff0c\u5982\u67e5\u770bi\u7684\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528<code>print i</code>\u6216\u8005<code>p i</code>\u6307\u4ee4\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u4f7f\u7528<code>p N</code> \u67e5\u770bN\u7684\u503c\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u6b64\u65f6\u7a0b\u5e8f\u6267\u884c\u5230\u7b2c11\u884c\u5904\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u7ee7\u7eed\u6267\u884c\uff0c\u8f93\u5165<code>continue</code>\u6307\u4ee4\u5e76\u6309\u56de\u8f66\u5373\u53ef\uff0c\u7a0b\u5e8f\u5c06\u6267\u884c\u5230\u4ee3\u7801\u7684\u7b2c12\u884c\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u56e0\u4e3a\u6211\u4eec\u662f\u5728<code>while</code>\u5faa\u73af\u4f53\u5185\uff0c<code>i</code>\u7684\u503c\u5c06\u4e0d\u65ad\u53d8\u5316\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u8ddf\u4e2d<code>i</code>\u503c\u7684\u53d8\u5316\uff0c\u9700\u8981\u8f93\u5165<code>display i</code>\u6307\u4ee4\u5373\u53ef\uff0c\u518d\u8f93\u5165<code>continue</code>\u6307\u4ee4\u8ba9\u7a0b\u5e8f\u5355\u6b65\u6267\u884c\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0c\u901a\u8fc7\u5faa\u73af\uff0c\u53c8\u56de\u5230\u4e86\u7b2c\u4e00\u4e2a\u65ad\u70b9\uff0c\u6b64\u65f6<code>i</code>\u7684\u503c\u5df2\u7ecf\u53d8\u6210\u4e862\u3002\u5728gdb\u8c03\u8bd5\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u53ea\u6309\u56de\u8f66\u952e\uff0cgdb\u5c06\u6267\u884c\u6211\u4eec\u6700\u540e\u4e00\u6b21\u8f93\u5165\u7684\u6307\u4ee4\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e00\u76f4\u6309\u56de\u8f66\u952e\u7ee7\u7eed\u8ba9\u7a0b\u5e8f\u5355\u6b65\u6267\u884c\u3002</p> <p>\u5f53\u65ad\u70b9\u6267\u884c\u90fd\u67d0\u4e2a\u4f4d\u7f6e\u65f6\uff0c\u6211\u4eec\u60f3\u8981\u67e5\u770b\u65ad\u70b9\u9644\u8fd1\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u6267\u884c<code>list</code>\u6307\u4ee4\u8fdb\u884c\u67e5\u770b\uff0c\u5982\u4e0b\u56fe</p> <p></p>"},{"location":"TOOL/vscode/05-cmake/","title":"CMake\u7684\u8bed\u6cd5\u7279\u6027\u4e0e\u5e38\u7528\u53d8\u91cf","text":""},{"location":"TOOL/vscode/05-cmake/#1","title":"1. \u6982\u8ff0","text":"<ul> <li> <p>Cmake (Cross Platform Make) \u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684\u7f16\u8bd1\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u7b80\u5355\u7684\u8bed\u53e5\u6765\u63cf\u8ff0\u8de8\u5e73\u53f0\u7684\u7f16\u8bd1\u8fc7\u7a0b</p> </li> <li> <p>CMake\u5df2\u7ecf\u6210\u4e3a\u4e86\u5927\u90e8\u5206C++\u5f00\u6e90\u9879\u76ee\u7684\u9996\u8981\u7f16\u8bd1\u5de5\u5177</p> </li> </ul> <p>\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u7f16\u8bd1\u5de5\u5177\uff0c\u6bd4\u5982 windows \u4e2d\u4f7f\u7528 Visual Studio \u7684\u5f00\u53d1\u5957\u4ef6\uff0c mac \u4e2d\u4f7f\u7528 xcode \u5f00\u53d1\u5957\u4ef6\uff0cLinux \u4e2d\u4f7f\u7528 Makefile \u7ed3\u5408 g++ \u7f16\u8bd1\uff0c\u90a3\u5982\u679c\u6211\u4eec\u4f7f\u7528 cmake \u5c31\u53ef\u4ee5\u89e3\u51b3\u4e86\u8de8\u5e73\u53f0\u7684\u95ee\u9898\u3002</p>"},{"location":"TOOL/vscode/05-cmake/#2-cmake","title":"2. cmake \u57fa\u7840\u77e5\u8bc6","text":""},{"location":"TOOL/vscode/05-cmake/#21-cmake","title":"2.1. cmake \u7684\u57fa\u672c\u8bed\u6cd5\u7279\u6027","text":"Bash<pre><code>\u6307\u4ee4\u540d\u79f0(\u53c2\u65701 \u53c2\u65702)\n</code></pre> <p>\u53c2\u6570\u4f7f\u7528\u5c0f\u62ec\u53f7\u5305\u88f9\u8d77\u6765\uff0c\u53c2\u6570\u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u6216\u8005\u5206\u53f7\u9694\u5f00\u3002cmake\u7684\u6307\u4ee4\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u4f46\u662f\u53c2\u6570\u4e25\u683c\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5982\u4e0b\u793a\u4f8b</p> C++<pre><code>set(HELLO hello.cpp)\nadd_executable(hello main.cpp hello.cpp)\nADD_EXECUTABLE(hello main.cpp ${HELLO})\n</code></pre> <p>cmake\u6307\u4ee4\u7684\u53d8\u91cf\u4f7f\u7528 <code>${\u53d8\u91cf}</code> \u7684\u5f62\u5f0f\u8bfb\u53d6\u53d8\u91cf\uff0c\u4f46\u5728 IF \u903b\u8f91\u5224\u65ad\u4e2d\uff0c\u76f4\u63a5\u8f93\u5165\u53d8\u91cf\u540d\u79f0\u5373\u53ef\uff0c\u5982\u4e0a\u9762\u793a\u4f8b\u4ee3\u7801\u4e2d\u7684 <code>HELLO</code></p>"},{"location":"TOOL/vscode/05-cmake/#22-cmake","title":"2.2. cmake\u7684\u91cd\u8981\u6307\u4ee4\u548c\u5e38\u7528\u53d8\u91cf","text":"<ul> <li><code>cmake_minimum_required</code> : \u6307\u5b9acmake\u6700\u5c0f\u7248\u672c\u8981\u6c42</li> </ul> Bash<pre><code># \u6307\u5b9acmake\u6700\u5c0f\u7248\u672c\u8981\u6c42\u4e3a 2.8.3\ncmake_minimum_required(VERSION 2.8.3)\n</code></pre> <ul> <li><code>project</code> : \u5b9a\u4e49\u5de5\u7a0b\u540d\u79f0\uff0c\u5e76\u53ef\u4ee5\u6307\u5b9a\u5de5\u7a0b\u53ef\u652f\u6301\u7684\u8bed\u8a00\uff0c\u8bed\u6cd5\u683c\u5f0f\u4e3a <code>project(\u9879\u76ee\u57df\u540d \u8bed\u8a00)</code>\uff0c\u5982\u4e0b\u793a\u4f8b</li> </ul> Bash<pre><code># \u6307\u5b9a\u5de5\u7a0b\u7684\u540d\u79f0\u4e3aHELLO\nproject(HELLO)\n</code></pre> <ul> <li><code>set</code> : \u663e\u793a\u5b9a\u4e49\u53d8\u91cf</li> </ul> Bash<pre><code># \u5b9a\u4e49SRC \u53d8\u91cf\u503c\u4e3a\uff1a hello.cpp main.cpp\nset(SRC hello.cpp main.cpp)\n</code></pre> <ul> <li><code>include_directories</code> : \u5411\u5de5\u7a0b\u4e2d\u6dfb\u52a0\u591a\u4e2a\u5934\u6587\u4ef6\u641c\u7d22\u8def\u5f84\uff0c\u76f8\u5f53\u4e8e\u6307\u5b9a <code>g++</code> \u7684 <code>-I</code> \u53c2\u6570</li> </ul> Bash<pre><code># \u5c06 /usr/include \u548c ./include \u8def\u5f84\u6dfb\u52a0\u5230\u5934\u6587\u4ef6\u641c\u7d22\u8def\u5f84\u4e2d\ninclude_directories(/usr/include ./include)\n</code></pre> <ul> <li><code>link_directories</code> : \u5411\u5de5\u7a0b\u4e2d\u6dfb\u52a0\u591a\u4e2a\u5e93\u6587\u4ef6\u641c\u7d22\u8def\u5f84\uff0c\u76f8\u5f53\u4e8e <code>g++</code> \u7684 <code>-L</code> \u53c2\u6570</li> </ul> Bash<pre><code># \u5c06 /usr/lib \u548c ./lib \u8def\u5f84\u6dfb\u52a0\u5230\u5e93\u6587\u4ef6\u641c\u7d22\u8def\u5f84\u4e2d\nlink_directories(/usr/lib ./lib)\n</code></pre> <ul> <li><code>add_library</code> : \u751f\u6210\u5e93\u6587\u4ef6</li> </ul> Bash<pre><code># \u901a\u8fc7\u53d8\u91cfSRC\u751f\u6210hello.so \u5171\u4eab\u5e93\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u586b SHARED \u6216 STATIC \u6216 MOUDLE\nadd_library(hello SHARED ${SRC})\n</code></pre> <ul> <li><code>add_compile_options</code> : \u6dfb\u52a0\u7f16\u8bd1\u53c2\u6570</li> </ul> Bash<pre><code># \u6dfb\u52a0\u7f16\u8bd1\u53c2\u6570 -Wall -std=c++11 \u4ee5\u53ca -o2\nadd_compile_options(-Wall -std=c++11 -o2)\n</code></pre> <ul> <li><code>add_excutable</code> : \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6</li> </ul> Bash<pre><code># \u7f16\u8bd1 main.cpp \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6 main\nadd_excutable(main main.cpp)\n</code></pre> <ul> <li><code>target_link_libraries</code> : \u4e3a\u76ee\u6807\u53ef\u6267\u884c\u6587\u4ef6\u6dfb\u52a0\u9700\u8981\u7684\u5171\u4eab\u5e93</li> </ul> Bash<pre><code># \u5c06hello\u52a8\u6001\u5e93\u6587\u4ef6\u94fe\u63a5\u5230\u53ef\u6267\u884c\u6587\u4ef6main\ntarget_link_libraries(main hello)\n</code></pre> <ul> <li><code>add_subdirectory</code> : \u5411\u5f53\u524d\u5de5\u7a0b\u6dfb\u52a0\u5b58\u653e\u6e90\u6587\u4ef6\u7684\u5b50\u76ee\u5f55\uff0c\u5e76\u53ef\u4ee5\u6307\u5b9a\u4e2d\u95f4\u4e8c\u8fdb\u5236\u548c\u76ee\u6807\u4e8c\u8fdb\u5236\u5b58\u653e\u7684\u4f4d\u7f6e</li> </ul> Bash<pre><code># \u6dfb\u52a0src\u5b50\u76ee\u5f55\uff0csrc\u4e2d\u9700\u8981\u6709\u4e00\u4e2a CMakeLists.txt\nadd_subdirectory(src)\n</code></pre> <ul> <li><code>aux_source_directory</code> : \u53d1\u73b0\u4e00\u4e2a\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u5e76\u5c06\u5217\u8868\u5b58\u50a8\u5728\u4e00\u4e2a\u53d8\u91cf\u4e2d\uff0c\u8fd9\u4e2a\u6307\u4ee4\u4e34\u65f6\u88ab\u7528\u6765\u81ea\u52a8\u6784\u5efa\u6e90\u6587\u4ef6\u5217\u8868\u3002</li> </ul> Bash<pre><code># \u5b9a\u4e49 SRC \u53d8\u91cf\uff0c\u5176\u503c\u4e3a\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\naux_source_directory(. SRC)\n# \u7f16\u8bd1SRC \u53d8\u91cf\u4e0b\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\uff0c\u751f\u6210 mian \u53ef\u6267\u884c\u6587\u4ef6\nadd_excutable(main ${SRC)\n</code></pre>"},{"location":"TOOL/vscode/05-cmake/#23-cmake","title":"2.3. Cmake \u5e38\u7528\u53d8\u91cf","text":"<ul> <li><code>CMAKE_FLAGS</code> : gcc \u7f16\u8bd1\u9009\u9879</li> <li><code>CMAKE_CXX_FLAGS</code> : g++ \u7f16\u8bd1\u9009\u9879</li> </ul> Bash<pre><code># \u5728 CMAKE_CXX_FLAGS \u7f16\u8bd1\u9009\u9879\u540e\u8ffd\u52a0 -std=c++11\nset(CMAKE_CXX_FLAGS \"{CMAKE_CXX_FLAGS} -std=c++11\")\n</code></pre> <ul> <li><code>CMAKE_BUILD_TYPE</code> : \u7f16\u8bd1\u7c7b\u578b(Debug\uff0cRelease)</li> </ul> Bash<pre><code># \u8bbe\u5b9a\u7f16\u8bd1\u7c7b\u578b\u4e3a debug \uff0c\u8c03\u8bd5\u65f6\u9700\u8981\u9009\u62e9 debug \nset(CMAKE_BUILD_TYPE Debug)\n# \u8bbe\u5b9a\u7f16\u8bd1\u7c7b\u578b\u4e3arelease\uff0c\u53d1\u5e03\u65f6\u9700\u8981\u9009\u62e9 release\nset(CMAKE_BUILD_TYPE Release)\n</code></pre> <ul> <li> <p><code>CMAKE_BINARY_DIR</code>\u3001<code>PROJECT_BINARY_DIR</code>\u3001<code>&lt;projectname&gt;_BINARY_DIR</code></p> </li> <li> <p>\u8fd9\u4e09\u4e2a\u53d8\u91cf\u6307\u4ee3\u7684\u5185\u5bb9\u662f\u4e00\u81f4\u7684</p> </li> <li>\u5982\u679c\u662f in binary build \uff0c\u6307\u7684\u5c31\u662f\u5de5\u7a0b\u9876\u7ea7\u76ee\u5f55</li> <li>\u5982\u679c\u662f out-of-binary \u7f16\u8bd1\uff0c\u6307\u7684\u662f\u5de5\u7a0b\u7f16\u8bd1\u53d1\u751f\u7684\u76ee\u5f55</li> <li> <p>PROJECT_BINARY_DIR \u8ddf\u5176\u4ed6\u6307\u4ee4\u7a0d\u6709\u533a\u522b\uff0c\u4f46\u8fd9\u91cc\u53ef\u4ee5\u7406\u89e3\u4ed6\u4eec\u662f\u4e00\u81f4\u7684</p> </li> <li> <p><code>CMAKE_SOURCE_DIR</code>\u3001<code>PROJECT_SOURCE_DIR</code>\u3001<code>&lt;projectname&gt;_SOURCE_DIR</code></p> </li> <li> <p>\u8fd9\u4e09\u4e2a\u53d8\u91cf\u6307\u4ee3\u7684\u5185\u5bb9\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u8bba\u91c7\u7528\u4f55\u79cd\u7f16\u8bd1\u65b9\u5f0f\uff0c\u90fd\u662f\u5de5\u7a0b\u7ecf\u5c42\u76ee\u5f55</p> </li> <li>\u5982\u679c\u662f in source build \uff0c\u8ddf CMAKE_BINARY_DIR \u53d8\u91cf\u4e00\u81f4</li> <li> <p>PROJECT_SOURCE_DIR \u8ddf\u5176\u4ed6\u6307\u4ee4\u7a0d\u6709\u533a\u522b\uff0c\u4f46\u8fd9\u91cc\u53ef\u4ee5\u7406\u89e3\u4ed6\u4eec\u662f\u4e00\u81f4\u7684</p> </li> <li> <p><code>CMAKE_C_COMPILE</code> : \u6307\u5b9aC\u7f16\u8bd1\u5668</p> </li> <li> <p><code>CMAKE_CXX_COMPILE</code> : \u6307\u5b9aC++\u7f16\u8bd1\u5668</p> </li> <li> <p><code>EXECUTABLE_OUT_PATH</code> : \u53ef\u6267\u884c\u6587\u4ef6\u8f93\u51fa\u7684\u5b58\u653e\u8def\u5f84</p> </li> <li> <p><code>LIBRARY_OUTOUT_PATH</code> : \u5e93\u6587\u4ef6\u8f93\u51fa\u7684\u5b58\u653e\u8def\u5f84</p> </li> </ul>"},{"location":"TOOL/vscode/06-cmake-compile-step/","title":"CMake\u7f16\u8bd1\u6d41\u7a0b","text":""},{"location":"TOOL/vscode/06-cmake-compile-step/#1","title":"1. \u6982\u8ff0","text":"<p>CMake\u9879\u76ee\u7684\u4e3b\u8981\u76ee\u5f55\u5b58\u5728\u4e00\u4e2a <code>CMakeLists.txt</code> \u6587\u4ef6</p> <p>\u6211\u4eec\u6709\u4e24\u79cd\u5f53\u65f6\u8bbe\u7f6e\u7f16\u8bd1\u89c4\u5219</p> <ul> <li>\u5305\u542b\u6e90\u6587\u4ef6\u7684\u5b50\u6587\u4ef6\u5939\u5305\u542b <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u4e3b\u76ee\u5f55\u7684 <code>CMakeLists.txt</code> \u901a\u8fc7 <code>add_subdirectory</code> \u6dfb\u52a0\u5b50\u76ee\u5f55\u5373\u53ef</li> <li>\u5305\u542b\u6e90\u6587\u4ef6\u7684\u5b50\u6587\u4ef6\u5939\u672a\u5305\u542b <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u5b50\u76ee\u5f55\u7f16\u8bd1\u89c4\u5219\u4f53\u73b0\u5728\u4e3b\u76ee\u5f55\u7684 <code>CMakeLists.txt</code> \u6587\u4ef6</li> </ul>"},{"location":"TOOL/vscode/06-cmake-compile-step/#2","title":"2. \u7f16\u8bd1\u6d41\u7a0b","text":"<p>\u5728 Linux \u5e73\u53f0\u4e0b\u4f7f\u7528 CMake \u6784\u5efa C/C++ \u5de5\u7a0b\u7684\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ul> <li>\u7f16\u5199 <code>CMakeLists.txt</code> \u89c4\u5219</li> <li>\u6267\u884c <code>cmake $PATH</code> \u751f\u6210 <code>Makefile</code>(PATH \u662fCMakeLists.txt \u6240\u5728\u7684\u9876\u5c42\u76ee\u5f55)</li> <li>\u6267\u884c <code>make</code> \u8fdb\u884c\u7f16\u8bd1</li> </ul> <p>\u6ce8\u610f\u4e00\u4e0b <code>Linux</code> \u4ee5\u4e0b\u51e0\u4e2a\u6587\u4ef6\u76ee\u5f55\u77e5\u8bc6</p> <ul> <li><code>.</code>\u6216\u8005 <code>./</code> \u4ee3\u8868\u5f53\u524d\u76ee\u5f55</li> <li><code>..</code>\u6216\u8005 <code>../</code> \u4ee3\u8868\u4e0a\u4e00\u7ea7\u76ee\u5f55</li> <li><code>../..</code>\u6216\u8005 <code>../../</code> \u4ee3\u8868\u4e0a\u4e0a\u4e00\u7ea7\u76ee\u5f55</li> </ul>"},{"location":"TOOL/vscode/06-cmake-compile-step/#3-cmake","title":"3. CMake\u7684\u4e24\u79cd\u6784\u5efa\u65b9\u5f0f","text":""},{"location":"TOOL/vscode/06-cmake-compile-step/#31-in-source-build","title":"3.1. \u5185\u90e8\u6784\u5efa (in-source build) : \u4e0d\u63a8\u8350\u4f7f\u7528","text":"<p>\u5185\u90e8\u6784\u5efa\u4f1a\u4ea7\u751f\u5f88\u591a\u4e2d\u95f4\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u5e76\u4e0d\u662f\u6211\u4eec\u6700\u7ec8\u60f3\u8981\u7684\uff0c\u548c\u5de5\u7a0b\u6e90\u4ee3\u7801\u6587\u4ef6\u653e\u5728\u4e00\u8d77\u4f1a\u663e\u5f97\u6742\u4e71\u65e0\u7ae0\u3002</p> <p>\u5185\u90e8\u6784\u5efa\u793a\u4f8b</p> Bash<pre><code># \u5728\u9879\u76ee\u6e90\u4ee3\u7801\u6839\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528  cmake \u6307\u4ee4\u89e3\u6790 CMakeLists.txt \uff0c\u751f\u6210 Makefile \u548c\u5176\u4ed6\u6587\u4ef6\ncmake .\n# \u6267\u884c make \u547d\u4ee4\uff0c\u751f\u6210 target\nmake\n</code></pre>"},{"location":"TOOL/vscode/06-cmake-compile-step/#32-out-of-source-build","title":"3.2. \u5916\u90e8\u6784\u5efa (out-of-source build) :   \u63a8\u8350\u4f7f\u7528","text":"<p>\u5c06\u7f16\u8bd1\u7684\u76ee\u5f55\u548c\u6e90\u4ee3\u7801\u76ee\u5f55\u533a\u5206\u5f00\u6765\uff0c\u653e\u5728\u4e0d\u540c\u76ee\u5f55\u4e2d</p> <p>\u5916\u90e8\u7f16\u8bd1\u793a\u4f8b</p> Bash<pre><code># 1. \u5728\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa build \u6587\u4ef6\u5939\nmkdir build\n# 2. \u8fdb\u5165build\u76ee\u5f55\ncd build\n# 3. \u89e3\u6790\u4e0a\u7ea7\u76ee\u5f55\u7684 CMakeLists.txt \uff0c\u751f\u6210 Makefile \u548c\u5176\u4ed6\u6587\u4ef6\ncmake ..\n# 4. \u6267\u884c make \uff0c\u751f\u6210 target\nmake\n</code></pre>"},{"location":"TOOL/vscode/07-cmake-compile/","title":"CMake\u9879\u76ee\u7f16\u8bd1\u5b9e\u6218","text":""},{"location":"TOOL/vscode/07-cmake-compile/#1","title":"1. \u51c6\u5907\u6e90\u4ee3\u7801","text":"<p>\u6211\u4eec\u51c6\u5907\u4e24\u4efd\u6e90\u4ee3\u7801\uff0c\u4e00\u662f\u6700\u7b80\u5355\u7684 <code>helleworld</code> \u7a0b\u5e8f\uff0c\u4e8c\u662f\u5305\u542b\u591a\u6587\u4ef6\u7684\u4e00\u4e2a\u7b80\u5355\u9879\u76ee</p>"},{"location":"TOOL/vscode/07-cmake-compile/#11-helloworld","title":"1.1. \u51c6\u5907 <code>helloworld</code> \u7a0b\u5e8f","text":"<p>\u6211\u4eec\u5728 <code>src/07_cmake/helloworld</code> \u4e2d\u521b\u5efa <code>helloworld.cpp</code> \u6e90\u4ee3\u7801\u6587\u4ef6\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9</p> C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n    cout &lt;&lt; \"hello world !\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>"},{"location":"TOOL/vscode/07-cmake-compile/#12","title":"1.2. \u51c6\u5907\u4e00\u4e2a\u591a\u6587\u4ef6\u9879\u76ee","text":"<p>\u5728\u672c\u7cfb\u5217\u7684\u7b2c2\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 C++ \u9879\u76ee\uff0c\u6211\u4eec\u73b0\u5728\u76f4\u63a5\u628a\u6e90\u4ee3\u7801\u62f7\u8d1d\u4e00\u4efd\u5230 <code>src/07_cmake/project</code> \u76ee\u5f55\u4e2d\uff0c\u4ee3\u7801\u7ed3\u6784\u5982\u4e0b\u5982\u6240\u793a</p> <p></p> <p>\u4ee3\u7801\u7ec6\u8282\u5982\u4e0b</p> <p><code>include/swap.h</code> \u6587\u4ef6</p> C++<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n</code></pre> <p><code>src/swap.cpp</code> \u6587\u4ef6</p> C++<pre><code>#include \"swap.h\"\n\nvoid swap(int &amp;a, int &amp;b)\n{\n    int temp;\n    temp = a;\n    a = b;\n    b = temp;\n}\n</code></pre> <p><code>main.cpp</code> \u6587\u4ef6</p> C++<pre><code>#include &lt;iostream&gt;\n#include \"swap.h\"\nusing namespace std;\n\nint main(int argc, char const *argv[])\n{\n    int val1 = 10;\n    int val2 = 20;\n\n    cout &lt;&lt; \" Before swap:\" &lt;&lt; endl;\n    cout &lt;&lt; \" val1:\" &lt;&lt; val1 &lt;&lt; endl;\n    cout &lt;&lt; \" val2:\" &lt;&lt; val2 &lt;&lt; endl;\n\n    swap(val1, val2);\n\n    cout &lt;&lt; \" After swap:\" &lt;&lt; endl;\n    cout &lt;&lt; \" val1:\" &lt;&lt; val1 &lt;&lt; endl;\n    cout &lt;&lt; \" val2:\" &lt;&lt; val2 &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>"},{"location":"TOOL/vscode/07-cmake-compile/#2","title":"2. \u7f16\u8bd1\u8fc7\u7a0b","text":""},{"location":"TOOL/vscode/07-cmake-compile/#21-helloworld","title":"2.1. \u7f16\u8bd1 <code>helloworld</code> \u7a0b\u5e8f","text":"<ul> <li>\u5185\u90e8\u6784\u5efa</li> </ul> <p>\u5148\u6267\u884c <code>cd src/07_cmake/helloworld</code> \u547d\u4ee4\u8fdb\u5165\u6211\u4eec\u7684\u9879\u76ee\u76ee\u5f55\uff0c\u521b\u5efa cmake \u914d\u7f6e\u6587\u4ef6 <code>CMakeLists.txt</code>\uff0c\u5b9a\u4e49\u7f16\u8bd1\u53c2\u6570\u5982\u4e0b\u5185\u5bb9</p> Bash<pre><code># \u6307\u5b9acmake\u6700\u4f4e\u7248\u672c\ncmake_minimum_required(VERSION 3.0)\n# \u6307\u5b9a\u9879\u76ee\u540d\u79f0\u4e3a HELLOWORLD\nproject(HELLOWORLD)\n# \u7f16\u8bd1\u6e90\u4ee3\u7801\u6587\u4ef6 helloword.cpp\uff0c\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6 helloworld_cmake.out\nadd_executable(helloworld_cmake.out helloworld.cpp)\n</code></pre> <p>\u5728\u5f53\u524d\u76ee\u5f55\u4f7f\u7528 <code>cmake .</code> \u6307\u4ee4\u53bb\u89e3\u6790 <code>CMakeLists.txt</code>\uff0c\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u56fe\u7684\u63d0\u793a\u8fc7\u7a0b</p> <p></p> <p>\u6307\u4ee4\u6267\u884c\u7ed3\u675f\u540e\uff0c\u4ea7\u751f\u5f88\u591a\u4e34\u65f6\u6587\u4ef6\u7684\u540c\u65f6\uff0c\u5e76\u4ea7\u751f\u4e86 <code>Makefile</code> \u6587\u4ef6\u3002\u5b9e\u9645\u4e0a\uff0c<code>cmake</code> \u7684\u4f5c\u7528\u5c31\u662f\u7b80\u5316\u751f\u6210 <code>Makefile</code> \u7684\u8fc7\u7a0b\uff0c\u6709\u4e86 <code>Makefile</code>\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>make</code> \u6307\u4ee4\u6267\u884c\u7f16\u8bd1\u4e86\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u6307\u4ee4\u6267\u884c\u7ed3\u675f\u540e\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6 <code>helloworld_cmake.out</code></p> <ul> <li>\u5916\u90e8\u6784\u5efa</li> </ul> <p>\u4f7f\u7528\u5185\u90e8\u6784\u5efa\u7684\u65b9\u5f0f\u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u4ea7\u751f\u4e86\u5f88\u591a\u65e0\u7528\u7684\u4e34\u65f6\u6587\u4ef6\uff0c\u4f7f\u5f97\u6211\u4eec\u7684\u6e90\u7801\u76ee\u5f55\u6742\u4e71\u65e0\u7ae0\uff0c\u66f4\u63a8\u8350\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u5916\u90e8\u6784\u5efa\u3002\u4e0b\u9762\u6211\u4eec\u4f7f\u7528\u5916\u90e8\u5efa\u6784\u7684\u65b9\u5f0f \u7f16\u8bd1\u6e90\u4ee3\u7801\uff0c\u4ee5\u4e0b\u662f\u8be6\u7ec6\u7684\u6b65\u9aa4</p> <p>\u5728\u4e0a\u9762\u7684\u5185\u90e8\u6784\u5efa\u4e2d\uff0c\u4ea7\u751f\u4e86\u5f88\u591a\u4e34\u65f6\u6587\u4ef6\uff0c\u6211\u4eec\u73b0\u5728\u6e90\u7801\u76ee\u5f55\u4e2d\u53ea\u9700\u8981\u4fdd\u7559 <code>helloworld.cpp</code> \u548c <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u5220\u9664\u6389\u5176\u4ed6\u6587\u4ef6\u3002\u518d\u521b\u5efa <code>build</code>\u76ee\u5f55\uff0c\u5982\u4e0b\u6307\u4ee4</p> Bash<pre><code># \u65b0\u5efabuild\u76ee\u5f55\nmkdir build\n# \u8fdb\u5165build\u76ee\u5f55\ncd build\n</code></pre> <p>\u73b0\u5728\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\u5982\u6240\u793a</p> <p></p> <p>\u6211\u4eec\u5728 <code>build</code> \u76ee\u5f55\u4e2d\u8fdb\u884c\u7f16\u8bd1\uff0c\u800c\u6e90\u4ee3\u7801\u5728\u4e0a\u4e00\u7ea7\u76ee\u5f55\uff0c\u6240\u4ee5\u6211\u4eec\u4f7f\u7528 <code>..</code> \u6307\u5411\u4e0a\u7ea7\u76ee\u5f55\uff0c\u5e76\u6267\u884c <code>CMakeLists.txt</code> \u7684\u89e3\u6790\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code>cmake ..\n</code></pre> <p>\u6267\u884c\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a</p> <p></p> <p>\u6b64\u65f6\uff0c\u6240\u6709\u7684\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u95f4\u6587\u4ef6\u90fd\u5728 <code>build</code> \u76ee\u5f55\u4e2d\uff0c\u6211\u4eec\u5728\u4f7f\u7528 <code>make</code> \u547d\u4ee4\u7f16\u8bd1\u51fa\u6700\u540e\u7684 \u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982\u4e0b\u5982</p> <p></p> <p>\u6700\u7ec8\u4ea7\u751f\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4e5f\u5728 <code>build</code> \u76ee\u5f55\u4e2d\u3002</p>"},{"location":"TOOL/vscode/07-cmake-compile/#22-project","title":"2.2. \u7f16\u8bd1 <code>project</code> \u9879\u76ee","text":"<p>\u5728 <code>src/07_cmake/project</code> \u76ee\u5f55\u4e0b\uff0c\u662f\u4e00\u4e2a\u5305\u542b\u591a\u6587\u4ef6\u7684\u7b80\u5355\u7684 C++ \u9879\u76ee\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f7f\u7528 <code>cmake</code> \u5bf9\u9879\u76ee\u8fdb\u884c\u7f16\u8bd1\u3002</p> <p>\u65b0\u5efa cmake \u7684\u914d\u7f6e\u6587\u4ef6 <code>src/07_cmake/project/CMakeLists.txt</code> \uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9</p> Bash<pre><code># \u6307\u5b9a\u6700\u4f4ecmake\u7248\u672c\ncmake_minimum_required(VERSION 3.0)\n# \u6307\u5b9a\u9879\u76ee\u540d\u79f0\u4e3a SWAP \nproject(SWAP)\n# \u5f15\u5165\u5934\u6587\u4ef6\u76ee\u5f55\ninclude_directories(include)\n# \u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\nadd_executable(main_cmake.out main.cpp src/swap.cpp)\n</code></pre> <p>\u4e3a\u4e86\u66f4\u597d\u7684\u7ba1\u7406\u6e90\u4ee3\u7801\uff0c\u6211\u4eec\u4f7f\u7528\u5916\u90e8\u7f16\u8bd1\u7684\u65b9\u5f0f\u5bf9\u4ee3\u7801\u8fdb\u884c\u7f16\u8bd1\uff0c\u5982\u4e0b\u547d\u4ee4</p> Bash<pre><code># \u521b\u5efa\u7f16\u8bd1\u4e34\u65f6\u76ee\u5f55\nmkdir build\n# \u8fdb\u5165\u7f16\u8bd1\u4e34\u65f6\u76ee\u5f55\ncd build\n# \u89e3\u6790 cmake \u914d\u7f6e\u6587\u4ef6\u751f\u6210 Makefile\ncmake ..\n# \u7f16\u8bd1 \nmake\n</code></pre> <p>\u6700\u7ec8\uff0c\u5728 <code>build</code> \u76ee\u5f55\u4e2d\u751f\u6210\u4e86\u6700\u7ec8\u7684\u53ef\u6267\u884c\u6587\u4ef6 <code>main_cmake.out</code>\u3002</p>"},{"location":"TOOL/vscode/08-vscode-debug/","title":"VSCode\u4e2d\u8c03\u8bd5C++\u7a0b\u5e8f","text":""},{"location":"TOOL/vscode/08-vscode-debug/#1","title":"1. \u6982\u8ff0","text":"<p>VSCode \u662f\u76ee\u524d\u6700\u70ed\u95e8\u7684IDE\u4e4b\u4e00\uff0c\u5728\u672c\u8282\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u600e\u6837\u5728 VSCode \u4e2d\u8fdb\u884c C++ \u7a0b\u5e8f\u7684\u8c03\u8bd5\u3002\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u9700\u8981\u901a\u8fc7 VSCode\u5b98\u7f51\u4e0b\u8f7d\u5bf9\u5e94\u64cd\u4f5c\u7cfb\u7edf\u7684\u6700\u65b0\u7248\u672c\uff0c\u5e76\u5b89\u88c5\u5230\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u3002</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u5e76\u4e0d\u4f1a\u6d89\u53ca VSCode \u7684\u57fa\u672c\u64cd\u4f5c\uff0c\u6bd4\u5982\u521b\u5efa\u9879\u76ee\u3001\u5b89\u88c5\u63d2\u4ef6\u3001\u8bbe\u7f6e \u7b49\u7b49\u7684\u77e5\u8bc6\u3002\u5982\u679c\u4f60\u8fd8\u4e0d\u719f\u6089 VSCode \uff0c\u5efa\u8bae\u5148\u4e86\u89e3 VSCode \u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\u3002\u4f46\u5982\u679c\u4f60\u4e4b\u524d\u6ca1\u6709\u4f7f\u7528 CSCode \u800c\u662f\u4f7f\u7528\u5176\u4ed6\u7684\u5f00\u53d1\u5de5\u5177\uff0cVSCode \u5bf9\u4f60\u6765\u8bf4\u4e0a\u624b\u4e5f\u4f1a\u5f88\u5feb\u3002 </p>"},{"location":"TOOL/vscode/08-vscode-debug/#2","title":"2. \u51c6\u5907\u6e90\u4ee3\u7801","text":"<p>\u4f7f\u7528 <code>src/08_demo</code> \u76ee\u5f55\u4f5c\u4e3a\u6e90\u7801\u76ee\u5f55\uff0c\u5e76\u6dfb\u52a0\u5982\u4e0b\u56fe\u7684\u6587\u4ef6</p> <p></p> <p>\u8be5\u7a0b\u5e8f\u6a21\u62df\u4e86\u4e00\u4e2a\u58eb\u5175\u7528\u67aa\u88c5\u5b50\u5f39\uff0c\u5e76\u8fdb\u884c\u5c04\u51fb\u7684\u7a0b\u5e8f\u3002\u76f8\u5173\u6e90\u7801\u5185\u5bb9\u4ee5\u53cacmake\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b</p>"},{"location":"TOOL/vscode/08-vscode-debug/#21-includegunh","title":"2.1. <code>include/Gun.h</code> \u6587\u4ef6","text":"C++<pre><code>#pragma once\n#include &lt;string&gt;\n\nclass Gun\n{\nprivate:\n    int _bullet_count;\n    std::string _type;\n\npublic:\n    Gun(std::string type)\n    {\n        this-&gt;_bullet_count = 0;\n        this-&gt;_type = type;\n    }\n\n    void addBullet(int bullet_num);\n    bool shoot();\n};\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#22-includesoliderh","title":"2.2. <code>include/Solider.h</code> \u6587\u4ef6","text":"C++<pre><code>#pragma once\n#include &lt;string&gt;\n#include \"Gun.h\"\n\nclass Solider\n{\nprivate:\n    std::string _name;\n    Gun *_ptr_gun;\n\npublic:\n    Solider(std::string name);\n    ~Solider();\n    void addGun(Gun *ptr_gun);\n    void addBullectToGun(int num);\n    bool fire();\n};\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#23-srcguncpp","title":"2.3. <code>src/Gun.cpp</code> \u6587\u4ef6","text":"C++<pre><code>#include \"Gun.h\"\n#include \"iostream\"\nusing namespace std;\n\nvoid Gun::addBullet(int bullet_num)\n{\n    this-&gt;_bullet_count += bullet_num;\n}\n\nbool Gun::shoot()\n{\n    if (this-&gt;_bullet_count &lt;= 0)\n    {\n        cout &lt;&lt; \"There is no bullet!\" &lt;&lt; endl;\n        return false;\n    }\n\n    this-&gt;_bullet_count -= 1;\n    cout &lt;&lt; \"shoot success\" &lt;&lt; endl;\n    return true;\n}\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#24-srcsolidercpp","title":"2.4. <code>src/Solider.cpp</code> \u6587\u4ef6","text":"C++<pre><code>#include \"Solider.h\"\n\nSolider::Solider(std::string name)\n{\n    this-&gt;_name = name;\n    this-&gt;_ptr_gun = nullptr;\n}\n\nvoid Solider::addGun(Gun *ptr_gun)\n{\n    this-&gt;_ptr_gun = ptr_gun;\n}\n\nvoid Solider::addBullectToGun(int num)\n{\n    this-&gt;_ptr_gun-&gt;addBullet(num);\n}\n\nbool Solider::fire()\n{\n    return this-&gt;_ptr_gun-&gt;shoot();\n}\n\nSolider::~Solider()\n{\n    if (this-&gt;_ptr_gun == nullptr)\n    {\n        return;\n    }\n    delete this-&gt;_ptr_gun;\n    this-&gt;_ptr_gun = nullptr;\n}\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#25-maincpp","title":"2.5. <code>main.cpp</code> \u6587\u4ef6","text":"C++<pre><code>#include \"Gun.h\"\n#include \"Solider.h\"\n\nvoid test()\n{\n    Solider sanduo(\"xusanduo\");\n    sanduo.addGun(new Gun(\"AK47\"));\n    sanduo.addBullectToGun(20);\n    sanduo.fire();\n}\n\nint main(int argc, char const *argv[])\n{\n    test();\n    return 0;\n}\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#26-cmakeliststxt","title":"2.6. <code>CMakeLists.txt</code> \u6587\u4ef6","text":"Text Only<pre><code># \u6307\u5b9acmake\u7248\u672c\ncmake_minimum_required(VERSION 3.0)\n# \u8bbe\u7f6e\u9879\u76ee\u540d\u79f0\nproject(SOLIDERFIRE)\n# \u6dfb\u52a0\u7f16\u8bd1\u53c2\u6570\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -g -O2 -Wall\")\n# \u8bbe\u7f6e\u4ee3\u7801\u6784\u5efa\u7ea7\u522b\u4e3a Debug \u65b9\u5f0f\nset(CMAKE_BUILD_TYPE Debug)\n# \u5305\u542b\u76ee\u5f55\ninclude_directories(${CMAKE_SOURCE_DIR}/include)\n# \u7f16\u8bd1\nadd_executable(a.out main.cpp src/Gun.cpp src/Solider.cpp)\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#3-vscode","title":"3. \u5b89\u88c5VSCode\u63d2\u4ef6","text":""},{"location":"TOOL/vscode/08-vscode-debug/#31-cc","title":"3.1. <code>C/C++</code> \u63d2\u4ef6","text":"<p>\u8be5\u63d2\u4ef6\u652f\u6301 C/C++ \u4ee3\u7801\u7684\u63d0\u793a\u3001C++\u7a0b\u5e8f\u8c03\u8bd5 \u4ee5\u53ca C++\u6e90\u7801\u7684\u9605\u8bfb\uff0c\u662f VSCode \u7684\u5b98\u65b9\u63d2\u4ef6</p> <p>\u63d2\u4ef6\u5730\u5740: https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools</p> <p></p>"},{"location":"TOOL/vscode/08-vscode-debug/#32-cmake","title":"3.2. <code>CMake</code> \u63d2\u4ef6","text":"<p>\u8be5\u63d2\u4ef6\u652f\u6301 CMake \u914d\u7f6e\u6587\u4ef6\u7684\u9ad8\u4eae\u4ee3\u7801\u3001\u8bed\u6cd5\u63d0\u793a</p> <p>\u63d2\u4ef6\u5730\u5740: https://marketplace.visualstudio.com/items?itemName=twxs.cmake</p> <p></p>"},{"location":"TOOL/vscode/08-vscode-debug/#33-cmake-tools","title":"3.3. <code>CMake Tools</code> \u63d2\u4ef6","text":"<p>\u8be5\u63d2\u4ef6\u4e5f\u662f VSCode \u7684\u5b98\u65b9\u63d2\u4ef6\uff0c\u63d0\u4f9b CMake \u5de5\u5177\u76f8\u5173\u529f\u80fd\u7684\u652f\u6301</p> <p>\u63d2\u4ef6\u5730\u5740: https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools</p> <p></p>"},{"location":"TOOL/vscode/08-vscode-debug/#4","title":"4. \u914d\u7f6e\u8c03\u8bd5","text":""},{"location":"TOOL/vscode/08-vscode-debug/#41","title":"4.1. \u521b\u5efa\u8c03\u8bd5\u914d\u7f6e\u6587\u4ef6","text":"<p>\u51c6\u5907\u597d\u6e90\u4ee3\u7801\u5e76\u4e14\u5b89\u88c5\u597d\u63d2\u4ef6\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6253\u5f00 VSCode \u7684 \u8c03\u8bd5(debug) \u83dc\u5355\u680f\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u901a\u8fc7\u70b9\u51fb\u56fe\u793a\u4e2d\u7684\u83dc\u5355\u521b\u5efa VSCode \u7684C++\u8c03\u8bd5(debug)\u914d\u7f6e\u6587\u4ef6\uff0c\u6b64\u65f6\u5728 <code>.vscode</code> \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>launch.json</code> \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4eec\u5c06\u57fa\u4e8e\u8be5\u6587\u4ef6\u5b9a\u4e49debug \u76f8\u5173\u914d\u7f6e\uff0c\u9ed8\u8ba4\u7684\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b</p> JSON<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"(gdb) \u542f\u52a8\",\n            \"type\": \"cppdbg\",\n            \"request\": \"launch\",\n            \"program\": \"\u8f93\u5165\u7a0b\u5e8f\u540d\u79f0\uff0c\u4f8b\u5982 ${workspaceFolder}/a.out\",\n            \"args\": [],\n            \"stopAtEntry\": false,\n            \"cwd\": \"${fileDirname}\",\n            \"environment\": [],\n            \"externalConsole\": false,\n            \"MIMode\": \"gdb\",\n            \"setupCommands\": [\n                {\n                    \"description\": \"\u4e3a gdb \u542f\u7528\u6574\u9f50\u6253\u5370\",\n                    \"text\": \"-enable-pretty-printing\",\n                    \"ignoreFailures\": true\n                }\n            ]\n        }\n    ]\n}\n</code></pre>"},{"location":"TOOL/vscode/08-vscode-debug/#42","title":"4.2. \u5173\u952e\u53c2\u6570\uff1a","text":"<p><code>program</code>: \u8be5\u914d\u7f6e\u7684\u503c\u6307\u5411\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u3002\u6211\u4eec\u6700\u7ec8\u5c06\u7f16\u8bd1\u751f\u6210\u7684\u7a0b\u5e8f\u653e\u5728 <code>build</code> \u76ee\u5f55\u4e2d\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u586b\u5199 <code>${workspaceFolder}/build/a.out</code>\u3002</p> <p><code>preLaunchTask</code>: \u8be5\u53c2\u6570\u5b9a\u4e49\u8c03\u8bd5\u5668\u542f\u52a8\u4e4b\u524d\u7684\u6267\u884c\u4efb\u52a1\u3002\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4e2d\u5e76\u4e0d\u5305\u542b\u8be5\u53c2\u6570\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u6dfb\u52a0\uff0c\u7528\u4e8e\u81ea\u52a8\u7f16\u8bd1\u53d8\u66f4\u540e\u7684 C++ \u4ee3\u7801\u3002</p>"},{"location":"TOOL/vscode/08-vscode-debug/#43","title":"4.3. \u521b\u5efa\u4efb\u52a1\u6587\u4ef6","text":"<p>\u901a\u8fc7 <code>terminal</code> -&gt; <code>Configure Default Build Task</code> \u83dc\u5355\uff0c\u5e76\u9009\u62e9 <code>Create tasks.json file from template</code> -&gt; <code>Others</code> \u9009\u9879\u521b\u5efa\u4efb\u52a1\u914d\u7f6e\u6587\u4ef6\uff0c\u6587\u4ef6\u521b\u5efa\u4f4d\u7f6e\u4e3a <code>.vscode/tasks.json</code>\uff0c\u9ed8\u8ba4\u914d\u7f6e\u5185\u5bb9\u5982\u4e0b</p> JSON<pre><code>{\n    // See https://go.microsoft.com/fwlink/?LinkId=733558\n    // for the documentation about the tasks.json format\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"echo\",\n            \"type\": \"shell\",\n            \"command\": \"echo Hello\"\n        }\n    ]\n}\n</code></pre> <p>\u6211\u4eec\u9700\u8981\u5c06\u4efb\u52a1\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u4e3a\u5982\u4e0b\u5185\u5bb9</p> JSON<pre><code>{\n    // See https://go.microsoft.com/fwlink/?LinkId=733558\n    // for the documentation about the tasks.json format\n    \"version\": \"2.0.0\",\n    \"options\": {\n        \"cwd\": \"${workspaceFolder}/build\"\n    },\n    \"tasks\": [\n        {\n            \"type\": \"shell\",\n            \"label\": \"cmake\",\n            \"command\": \"cmake\",\n            \"args\": [\n                \"..\"\n            ]\n        },\n        {\n            \"label\": \"make\",\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            },\n            \"command\": \"make\",\n            \"args\": []\n        },\n        {\n            \"label\": \"build\",\n            \"dependsOrder\": \"sequence\",\n            \"dependsOn\": [\n                \"cmake\",\n                \"make\"\n            ]\n        }\n    ],\n}\n</code></pre> <p>\u5728\u4ee5\u4e0a\u7684\u4efb\u52a1\u914d\u7f6e\u5185\u5bb9\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e09\u4e2a\u4efb\u52a1\u3002\u9996\u5148\u662f\u5b9a\u4e49\u4e86 <code>cmake</code> \u9884\u7f16\u8bd1\u6307\u4ee4\uff0c\u5176\u6b21\u662f\u5b9a\u4e49 <code>make</code> \u7f16\u8bd1\u6307\u4ee4\uff0c\u518d\u5b9a\u4e49 <code>build</code> \u4efb\u52a1\u53bb\u5305\u542b\u9884\u7f16\u8bd1\u548c\u7f16\u8bd1\u8fd9\u4e24\u4e2a\u6b65\u9aa4\u3002\u6700\u7ec8\u4fee\u6539<code>launch.json</code> \u6587\u4ef6\u5982\u4e0b\u5185\u5bb9</p> JSON<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"(gdb) \u542f\u52a8\",\n            \"type\": \"cppdbg\",\n            \"request\": \"launch\",\n            \"program\": \"${workspaceFolder}/build/a.out\",\n            \"args\": [],\n            \"stopAtEntry\": false,\n            \"cwd\": \"${fileDirname}\",\n            \"environment\": [],\n            \"externalConsole\": false,\n            \"MIMode\": \"gdb\",\n            \"setupCommands\": [\n                {\n                    \"description\": \"\u4e3a gdb \u542f\u7528\u6574\u9f50\u6253\u5370\",\n                    \"text\": \"-enable-pretty-printing\",\n                    \"ignoreFailures\": true\n                }\n            ],\n            \"preLaunchTask\": \"build\"\n        }\n    ]\n}\n</code></pre> <p>\u6b64\u65f6\uff0cVSCode \u7684\u81ea\u52a8\u5316 debug \u5df2\u7ecf\u5b8c\u6210\u914d\u7f6e\uff0c\u8981\u6ce8\u610f\u7684\u662f <code>program</code> \u914d\u7f6e\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u8def\u5f84\u8981\u548c <code>CMakeLists.txt</code> \u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u7a0b\u5e8f \u8f93\u51fa\u8def\u5f84\u4e00\u81f4\u3002\u540c\u65f6\uff0c<code>preLaunchTask</code> \u914d\u7f6e\u7684\u503c\u8981\u548c <code>taks.json</code> \u6587\u4ef6\u4e2d\u914d\u7f6e\u7684\u4efb\u52a1\u6807\u8bc6\u4e00\u81f4\u3002</p>"},{"location":"TOOL/vscode/08-vscode-debug/#5","title":"5. \u8c03\u8bd5\u8fc7\u7a0b","text":"<p>\u6211\u4eec\u5728\u7b2c4\u6b65\u9aa4\u914d\u7f6e\u597d\u81ea\u52a8\u5316\u7f16\u8bd1\u4e4b\u540e\uff0c\u73b0\u5728\u6211\u4eec\u5728\u7a0b\u5e8f\u6267\u884c\u7684<code>mian</code> \u51fd\u6570\u91cc\u6dfb\u52a0\u5982\u4e0b\u4e00\u884c\u4ee3\u7801\u6765\u9a8c\u8bc1\u7ed3\u679c</p> C++<pre><code>std::cout &lt;&lt; \"this is a test stating\" &lt;&lt; std::endl;\n</code></pre> <p>\u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u4e86C++\u6807\u51c6\u8f93\u51fa\u51fd\u6570\uff0c\u6240\u4ee5\u540c\u65f6\u8981\u5728\u6587\u4ef6\u5934\u90e8\u5f15\u5165 <code>iostream</code>\uff0c\u5982\u4e0b\u4ee3\u7801</p> C++<pre><code>#include \"iostream\"\n</code></pre> <p>\u540c\u65f6\u5728\u8fd9\u884c\u4ee3\u7801\u7684\u4e0b\u4e00\u884c\u6253\u4e00\u4e2a\u65ad\u70b9\uff0c\u518d\u6309\u952e\u76d8\u4e0a\u7684 <code>F5</code> \u952e\uff0c\u6b64\u65f6\u81ea\u52a8\u8fdb\u5165\u4e86\u8c03\u8bd5\u6a21\u5f0f\uff0c\u5982\u4e0b\u56fe</p> <p></p> <p>\u5728 VSCode \u7684\u8c03\u8bd5\u5305\u542b\u4e86 \u4ee5\u4e0b\u51e0\u4e2a\u529f\u80fd\u6309\u952e\uff1a</p> <ul> <li> <p>Continue(F5): \u6267\u884c\u5230\u65ad\u70b9\u4f1a\u505c\u6b62</p> </li> <li> <p>Step Into(F11): \u8fdb\u5165\u5b50\u51fd\u6570\uff0c\u5355\u6b65\u6267\u884c</p> </li> <li> <p>Step Out(Shift + F11): \u8d8a\u8fc7\u5b50\u51fd\u6570</p> </li> <li> <p>Step Over(F10): \u5982\u679c\u5df2\u7ecf\u8fdb\u5165\u4e86\u5b50\u51fd\u6570\uff0c\u8d8a\u51fa\u6b64\u5b50\u51fd\u6570</p> </li> <li> <p>Restart(Ctrl + Shift + F5): \u91cd\u542f\u8c03\u8bd5</p> </li> <li> <p>Sop(Shift + F5): \u505c\u6b62\u8c03\u8bd5</p> </li> </ul>"},{"location":"TOOL/vscode/a1-vscode-compile/","title":"\u9644\u5f55","text":"<p>vscode\u901a\u8fc7tasks.json\u6587\u4ef6\u8fdb\u884c\u7f16\u8bd1\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c \u56e0\u6b64\u5b9e\u73b0\u7684\u529f\u80fd\u5c31\u662f[[01-g++]]\uff0c [[02-compile]]\u4e2d\u7f16\u8bd1\u7684\u6b65\u9aa4</p> <p>\u901a\u8fc7\u7ec8\u7aef-&gt; \u914d\u7f6e\u4efb\u52a1 -&gt; \u521b\u5efatasks.json</p> <p>\u4e0b\u9762\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff1a  * \u4f7f\u7528g++\u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6 * \u4f7f\u7528cmake\u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6</p>"},{"location":"TOOL/vscode/a1-vscode-compile/#g","title":"\u4f7f\u7528g++\u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>JSON<pre><code>// tasks.json\n{\n    // https://code.visualstudio.com/docs/editor/tasks\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"Build\",  // \u4efb\u52a1\u7684\u540d\u5b57\u53ebBuild\uff0c\u6ce8\u610f\u662f\u5927\u5c0f\u5199\u533a\u5206\u7684\uff0c\u7b49\u4f1a\u5728launch\u4e2d\u8c03\u7528\u8fd9\u4e2a\u540d\u5b57\n            \"type\": \"shell\",  // \u4efb\u52a1\u6267\u884c\u7684\u662fshell\u547d\u4ee4\uff0c\u4e5f\u53ef\u4ee5\u662f\n            \"command\": \"g++\", // \u547d\u4ee4\u662fg++\n            \"args\": [\n                \"'-Wall'\",\n                \"'-std=c++17'\",  //\u4f7f\u7528c++17\u6807\u51c6\u7f16\u8bd1\n                \"'${file}'\", //\u5f53\u524d\u6587\u4ef6\u540d\n                \"-o\", //\u5bf9\u8c61\u540d\uff0c\u4e0d\u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\n                \"'${fileBasenameNoExtension}.out'\",  //\u5f53\u524d\u6587\u4ef6\u540d\uff08\u53bb\u6389\u6269\u5c55\u540d\uff09\n            ],\n          // \u6240\u4ee5\u4ee5\u4e0a\u90e8\u5206\uff0c\u5c31\u662f\u5728shell\u4e2d\u6267\u884c\uff08\u5047\u8bbe\u6587\u4ef6\u540d\u4e3afilename.cpp\uff09\n          // g++ filename.cpp -o filename.exe\n            \"group\": { \n                \"kind\": \"build\",\n                \"isDefault\": true   \n                // \u4efb\u52a1\u5206\u7ec4\uff0c\u56e0\u4e3a\u662ftasks\u800c\u4e0d\u662ftask\uff0c\u610f\u5473\u7740\u53ef\u4ee5\u8fde\u7740\u6267\u884c\u5f88\u591a\u4efb\u52a1\n                // \u5728build\u7ec4\u7684\u4efb\u52a1\u4eec\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728Command Palette(F1) \u8f93\u5165run build task\u6765\u8fd0\u884c\n                // \u5f53\u7136\uff0c\u5982\u679c\u4efb\u52a1\u5206\u7ec4\u662ftest\uff0c\u4f60\u5c31\u53ef\u4ee5\u7528run test task\u6765\u8fd0\u884c \n            },\n            \"problemMatcher\": [\n                \"$gcc\" // \u4f7f\u7528gcc\u6355\u83b7\u9519\u8bef\n            ],\n        }\n    ]\n}\n</code></pre> \u4e0a\u9762tasks.json\u76f8\u5f53\u4e8e\u547d\u4ee4<code>g++ -Wall -std=c++17 file.cpp -o a.out</code> \u53ef\u4ee5\u901a\u8fc7vscode\u4e2d<code>\u7ec8\u7aef-&gt; \u8fd0\u884c\u751f\u6210\u4efb\u52a1</code>\u6216\u8005<code>ctrl + shift + B</code>\u6765\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6</p>"},{"location":"TOOL/vscode/a1-vscode-compile/#cmake","title":"\u4f7f\u7528cmake\u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>\u4e5f\u662f\u901a\u8fc7\u914d\u7f6etasks.json\u6587\u4ef6\u8fdb\u884c\u7f16\u8bd1\uff0c \u4e0eg++\u4e0d\u540c\uff0c \u9700\u8981\u8bbe\u7f6e\u6210cmake\u7f16\u8bd1\u53ef\u6267\u884c\u6587\u4ef6\u7684\u6b65\u9aa4\u3002</p> Bash<pre><code># \u5728\u9879\u76ee\u6e90\u4ee3\u7801\u6839\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528  cmake \u6307\u4ee4\u89e3\u6790 CMakeLists.txt \uff0c\u751f\u6210 Makefile \u548c\u5176\u4ed6\u6587\u4ef6\ncmake .\n# \u6267\u884c make \u547d\u4ee4\uff0c\u751f\u6210 target\nmake\n</code></pre> JSON<pre><code>{\n    // See https://go.microsoft.com/fwlink/?LinkId=733558\n    // for the documentation about the tasks.json format\n    \"version\": \"2.0.0\",\n    \"options\": {\n        \"cwd\": \"${workspaceFolder}/build\"\n    },\n    \"tasks\": [\n        {\n            \"type\": \"shell\",\n            \"label\": \"cmake\",\n            \"command\": \"cmake\",\n            \"args\": [\n                \"..\"\n            ]\n        },\n        {\n            \"label\": \"make\",\n            \"group\": {\n                \"kind\": \"build\",\n                \"isDefault\": true\n            },\n            \"command\": \"make\",\n            \"args\": []\n        },\n        {\n            \"label\": \"build\",\n            \"dependsOrder\": \"sequence\",\n            \"dependsOn\": [\n                \"cmake\",\n                \"make\"\n            ]\n        }\n    ],\n}\n</code></pre>"},{"location":"TOOL/vscode/a1-vscode-compile/#launchjson","title":"\u5229\u7528launch.json\u6587\u4ef6\u8fdb\u884c\u8c03\u8bd5","text":"<p>\u65e0\u8bba\u662fg++\u6216\u8005cmake\uff0c \u901a\u8fc7\u5efa\u7acb\u5bf9\u5e94\u7684tasks.json\u6587\u4ef6\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c \u90fd\u91c7\u7528gdb\u8fdb\u884c\u8c03\u8bd5\uff0c \u4e0b\u9762\u662f\u5177\u4f53\u7684launch.json\u4e2d\u7684\u5185\u5bb9 JSON<pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"name\": \"C++ Launch\",\n            \"type\": \"cppdbg\",\n            \"request\": \"launch\",\n            \"program\": \"${workspaceFolder}/yolo\", // \u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84\n            \"args\": [],\n            \"stopAtEntry\": false,\n            \"cwd\": \"${workspaceFolder}\",\n            \"environment\": [],\n            \"externalConsole\": true,\n            \"MIMode\": \"gdb\",\n            \"setupCommands\": [\n                {\n                    \"description\": \"Enable pretty-printing for gdb\",\n                    \"text\": \"-enable-pretty-printing\",\n                    \"ignoreFailures\": true\n                }\n            ],\n            \"preLaunchTask\": \"build\",\n            \"miDebuggerPath\": \"/usr/bin/gdb\" // gdb \u8c03\u8bd5\u5668\u7684\u8def\u5f84\n        }\n    ]\n}\n</code></pre></p>"},{"location":"TOOL/vscode/a1-vscode-compile/#_2","title":"\u9884\u5b9a\u4e49\u53d8\u91cf","text":"<p>\u652f\u6301\u4e0b\u9762\u7684\u9884\u5b9a\u4e49\u53d8\u91cf:</p> <ul> <li>${workspaceFolder}\u00a0- \u5f53\u524d\u5de5\u4f5c\u76ee\u5f55(\u6839\u76ee\u5f55)</li> <li>${workspaceFolderBasename}\u00a0- \u5f53\u524d\u6587\u4ef6\u7684\u7236\u76ee\u5f55</li> <li>${file}\u00a0- \u5f53\u524d\u6253\u5f00\u7684\u6587\u4ef6\u540d(\u5b8c\u6574\u8def\u5f84)</li> <li>${relativeFile}\u00a0- \u5f53\u524d\u6839\u76ee\u5f55\u5230\u5f53\u524d\u6253\u5f00\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84(\u5305\u62ec\u6587\u4ef6\u540d)</li> <li>${relativeFileDirname}\u00a0- \u5f53\u524d\u6839\u76ee\u5f55\u5230\u5f53\u524d\u6253\u5f00\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84(\u4e0d\u5305\u62ec\u6587\u4ef6\u540d)</li> <li>${fileBasename}\u00a0- \u5f53\u524d\u6253\u5f00\u7684\u6587\u4ef6\u540d(\u5305\u62ec\u6269\u5c55\u540d)</li> <li>${fileBasenameNoExtension}\u00a0- \u5f53\u524d\u6253\u5f00\u7684\u6587\u4ef6\u540d(\u4e0d\u5305\u62ec\u6269\u5c55\u540d)</li> <li>${fileDirname}\u00a0- \u5f53\u524d\u6253\u5f00\u6587\u4ef6\u7684\u76ee\u5f55</li> <li>${fileExtname}\u00a0- \u5f53\u524d\u6253\u5f00\u6587\u4ef6\u7684\u6269\u5c55\u540d</li> <li>${cwd}\u00a0- \u542f\u52a8\u65f6task\u5de5\u4f5c\u7684\u76ee\u5f55</li> <li>${lineNumber}\u00a0- \u5f53\u524d\u6fc0\u6d3b\u6587\u4ef6\u6240\u9009\u884c</li> <li>${selectedText}\u00a0- \u5f53\u524d\u6fc0\u6d3b\u6587\u4ef6\u4e2d\u6240\u9009\u62e9\u7684\u6587\u672c</li> <li>${execPath}\u00a0- vscode\u6267\u884c\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55</li> <li>${defaultBuildTask}\u00a0- \u9ed8\u8ba4\u7f16\u8bd1\u4efb\u52a1(build task)\u7684\u540d\u5b57</li> </ul>"},{"location":"TOOL/vscode/a1-vscode-compile/#_3","title":"\u9884\u5b9a\u4e49\u53d8\u91cf\u793a\u4f8b:","text":"<p>\u5047\u8bbe\u4f60\u6ee1\u8db3\u4ee5\u4e0b\u7684\u6761\u4ef6</p> <ol> <li>\u4e00\u4e2a\u6587\u4ef6\u00a0<code>/home/your-username/your-project/folder/file.ext</code>\u00a0\u5728\u4f60\u7684\u7f16\u8f91\u5668\u4e2d\u6253\u5f00;</li> <li>\u4e00\u4e2a\u76ee\u5f55\u00a0<code>/home/your-username/your-project</code>\u00a0\u4f5c\u4e3a\u4f60\u7684\u6839\u76ee\u5f55.</li> </ol> <p>\u4e0b\u9762\u7684\u9884\u5b9a\u4e49\u53d8\u91cf\u5219\u4ee3\u8868:</p> <ul> <li>${workspaceFolder}\u00a0-\u00a0<code>/home/your-username/your-project</code></li> <li>${workspaceFolderBasename}\u00a0-\u00a0<code>your-project</code></li> <li>${file}\u00a0-\u00a0<code>/home/your-username/your-project/folder/file.ext</code></li> <li>${relativeFile}\u00a0-\u00a0<code>folder/file.ext</code></li> <li>${relativeFileDirname}\u00a0-\u00a0<code>folder</code></li> <li>${fileBasename}\u00a0-\u00a0<code>file.ext</code></li> <li>${fileBasenameNoExtension}\u00a0-\u00a0<code>file</code></li> <li>${fileDirname}\u00a0-\u00a0<code>/home/your-username/your-project/folder</code></li> <li>${fileExtname}\u00a0-\u00a0<code>.ext</code></li> <li>${lineNumber}\u00a0- \u5149\u6807\u6240\u5728\u884c</li> <li>${selectedText}\u00a0- \u7f16\u8f91\u5668\u4e2d\u6240\u9009\u62e9\u7684\u6587\u672c</li> <li>${execPath}\u00a0- Code.exe\u7684\u4f4d\u7f6e</li> </ul> <p>Tip: vscode\u7684\u667a\u80fd\u63d0\u793a\u4f1a\u5728<code>tasks.json</code>\u548c<code>launch.json</code>\u00a0\u63d0\u793a\u6240\u6709\u652f\u6301\u7684\u9884\u5b9a\u4e49\u53d8\u91cf.</p>"}]}